var gn=t=>{throw TypeError(t)};var Mt=(t,e,n)=>e.has(t)||gn("Cannot "+n);var d=(t,e,n)=>(Mt(t,e,"read from private field"),n?n.call(t):e.get(t)),E=(t,e,n)=>e.has(t)?gn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),U=(t,e,n,r)=>(Mt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),k=(t,e,n)=>(Mt(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const Yn=(t,e)=>{if(typeof t=="number"){if(e===3)return{mode:"rgb",r:(t>>8&15|t>>4&240)/255,g:(t>>4&15|t&240)/255,b:(t&15|t<<4&240)/255};if(e===4)return{mode:"rgb",r:(t>>12&15|t>>8&240)/255,g:(t>>8&15|t>>4&240)/255,b:(t>>4&15|t&240)/255,alpha:(t&15|t<<4&240)/255};if(e===6)return{mode:"rgb",r:(t>>16&255)/255,g:(t>>8&255)/255,b:(t&255)/255};if(e===8)return{mode:"rgb",r:(t>>24&255)/255,g:(t>>16&255)/255,b:(t>>8&255)/255,alpha:(t&255)/255}}},Xo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bo=t=>Yn(Xo[t.toLowerCase()],6),Oo=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,Vo=t=>{let e;return(e=t.match(Oo))?Yn(parseInt(e[1],16),e[1].length):void 0},de="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",Ae=`${de}%`,on=`(?:${de}%|${de})`,Wo=`(?:${de}(deg|grad|rad|turn)|${de})`,Te="\\s*,\\s*",Yo=new RegExp(`^rgba?\\(\\s*${de}${Te}${de}${Te}${de}\\s*(?:,\\s*${on}\\s*)?\\)$`),Ko=new RegExp(`^rgba?\\(\\s*${Ae}${Te}${Ae}${Te}${Ae}\\s*(?:,\\s*${on}\\s*)?\\)$`),Zo=t=>{let e={mode:"rgb"},n;if(n=t.match(Yo))n[1]!==void 0&&(e.r=n[1]/255),n[2]!==void 0&&(e.g=n[2]/255),n[3]!==void 0&&(e.b=n[3]/255);else if(n=t.match(Ko))n[1]!==void 0&&(e.r=n[1]/100),n[2]!==void 0&&(e.g=n[2]/100),n[3]!==void 0&&(e.b=n[3]/100);else return;return n[4]!==void 0?e.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(e.alpha=Math.max(0,Math.min(1,+n[5]))),e},Jo=(t,e)=>t===void 0?void 0:typeof t!="object"?V(t):t.mode!==void 0?t:e?{...t,mode:e}:void 0,Me=(t="rgb")=>e=>(e=Jo(e,t))!==void 0?e.mode===t?e:ee[e.mode][t]?ee[e.mode][t](e):t==="rgb"?ee[e.mode].rgb(e):ee.rgb[t](ee[e.mode].rgb(e)):void 0,ee={},Kn={},Ge=[],Zn={},Go=t=>t,_=t=>(ee[t.mode]={...ee[t.mode],...t.toMode},Object.keys(t.fromMode||{}).forEach(e=>{ee[e]||(ee[e]={}),ee[e][t.mode]=t.fromMode[e]}),t.ranges||(t.ranges={}),t.difference||(t.difference={}),t.channels.forEach(e=>{if(t.ranges[e]===void 0&&(t.ranges[e]=[0,1]),!t.interpolate[e])throw new Error(`Missing interpolator for: ${e}`);typeof t.interpolate[e]=="function"&&(t.interpolate[e]={use:t.interpolate[e]}),t.interpolate[e].fixup||(t.interpolate[e].fixup=Go)}),Kn[t.mode]=t,(t.parse||[]).forEach(e=>{Uo(e,t.mode)}),Me(t.mode)),Jn=t=>Kn[t],Uo=(t,e)=>{if(typeof t=="string"){if(!e)throw new Error("'mode' required when 'parser' is a string");Zn[t]=e}else typeof t=="function"&&Ge.indexOf(t)<0&&Ge.push(t)},Bt=/[^\x00-\x7F]|[a-zA-Z_]/,Qo=/[^\x00-\x7F]|[-\w]/,f={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let y=0;function Ke(t){let e=t[y],n=t[y+1];return e==="-"||e==="+"?/\d/.test(n)||n==="."&&/\d/.test(t[y+2]):e==="."?/\d/.test(n):/\d/.test(e)}function Ot(t){if(y>=t.length)return!1;let e=t[y];if(Bt.test(e))return!0;if(e==="-"){if(t.length-y<2)return!1;let n=t[y+1];return!!(n==="-"||Bt.test(n))}return!1}const er={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function He(t){let e="";if((t[y]==="-"||t[y]==="+")&&(e+=t[y++]),e+=Ze(t),t[y]==="."&&/\d/.test(t[y+1])&&(e+=t[y++]+Ze(t)),(t[y]==="e"||t[y]==="E")&&((t[y+1]==="-"||t[y+1]==="+")&&/\d/.test(t[y+2])?e+=t[y++]+t[y++]+Ze(t):/\d/.test(t[y+1])&&(e+=t[y++]+Ze(t))),Ot(t)){let n=Ue(t);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:f.Hue,value:e*er[n]}:void 0}return t[y]==="%"?(y++,{type:f.Percentage,value:+e}):{type:f.Number,value:+e}}function Ze(t){let e="";for(;/\d/.test(t[y]);)e+=t[y++];return e}function Ue(t){let e="";for(;y<t.length&&Qo.test(t[y]);)e+=t[y++];return e}function tr(t){let e=Ue(t);return t[y]==="("?(y++,{type:f.Function,value:e}):e==="none"?{type:f.None,value:void 0}:{type:f.Ident,value:e}}function nr(t=""){let e=t.trim(),n=[],r;for(y=0;y<e.length;){if(r=e[y++],r===`
`||r==="	"||r===" "){for(;y<e.length&&(e[y]===`
`||e[y]==="	"||e[y]===" ");)y++;continue}if(r===",")return;if(r===")"){n.push({type:f.ParenClose});continue}if(r==="+"){if(y--,Ke(e)){n.push(He(e));continue}return}if(r==="-"){if(y--,Ke(e)){n.push(He(e));continue}if(Ot(e)){n.push({type:f.Ident,value:Ue(e)});continue}return}if(r==="."){if(y--,Ke(e)){n.push(He(e));continue}return}if(r==="/"){for(;y<e.length&&(e[y]===`
`||e[y]==="	"||e[y]===" ");)y++;let o;if(Ke(e)&&(o=He(e),o.type!==f.Hue)){n.push({type:f.Alpha,value:o});continue}if(Ot(e)&&Ue(e)==="none"){n.push({type:f.Alpha,value:{type:f.None,value:void 0}});continue}return}if(/\d/.test(r)){y--,n.push(He(e));continue}if(Bt.test(r)){y--,n.push(tr(e));continue}return}return n}function or(t){t._i=0;let e=t[t._i++];if(!e||e.type!==f.Function||e.value!=="color"||(e=t[t._i++],e.type!==f.Ident))return;const n=Zn[e.value];if(!n)return;const r={mode:n},o=Gn(t,!1);if(!o)return;const i=Jn(n).channels;for(let s=0,a,l;s<i.length;s++)a=o[s],l=i[s],a.type!==f.None&&(r[l]=a.type===f.Number?a.value:a.value/100,l==="alpha"&&(r[l]=Math.max(0,Math.min(1,r[l]))));return r}function Gn(t,e){const n=[];let r;for(;t._i<t.length;){if(r=t[t._i++],r.type===f.None||r.type===f.Number||r.type===f.Alpha||r.type===f.Percentage||e&&r.type===f.Hue){n.push(r);continue}if(r.type===f.ParenClose){if(t._i<t.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==f.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:f.None,value:void 0}),n.every(o=>o.type!==f.Alpha)?n:void 0}}function rr(t,e){t._i=0;let n=t[t._i++];if(!n||n.type!==f.Function)return;let r=Gn(t,e);if(r)return r.unshift(n.value),r}const V=t=>{if(typeof t!="string")return;const e=nr(t),n=e?rr(e,!0):void 0;let r,o=0,i=Ge.length;for(;o<i;)if((r=Ge[o++](t,n))!==void 0)return r;return e?or(e):void 0};function ir(t,e){if(!e||e[0]!=="rgb"&&e[0]!=="rgba")return;const n={mode:"rgb"},[,r,o,i,s]=e;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.r=r.type===f.Number?r.value/255:r.value/100),o.type!==f.None&&(n.g=o.type===f.Number?o.value/255:o.value/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value/255:i.value/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const sr=t=>t==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,ar=(t,e,n)=>t+n*(e-t),lr=t=>{let e=[];for(let n=0;n<t.length-1;n++){let r=t[n],o=t[n+1];r===void 0&&o===void 0?e.push(void 0):r!==void 0&&o!==void 0?e.push([r,o]):e.push(r!==void 0?[r,r]:[o,o])}return e},dr=t=>e=>{let n=lr(e);return r=>{let o=r*n.length,i=r>=1?n.length-1:Math.max(Math.floor(o),0),s=n[i];return s===void 0?void 0:t(s[0],s[1],o-i)}},g=dr(ar),I=t=>{let e=!1,n=t.map(r=>r!==void 0?(e=!0,r):1);return e?n:t},Ee={mode:"rgb",channels:["r","g","b","alpha"],parse:[ir,Vo,Zo,Bo,sr,"srgb"],serialize:"srgb",interpolate:{r:g,g,b:g,alpha:{use:g,fixup:I}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},yt=(t=0)=>Math.pow(Math.abs(t),563/256)*Math.sign(t),bn=t=>{let e=yt(t.r),n=yt(t.g),r=yt(t.b),o={mode:"xyz65",x:.5766690429101305*e+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*e+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*e+.0706888525358272*n+.9913375368376386*r};return t.alpha!==void 0&&(o.alpha=t.alpha),o},vt=t=>Math.pow(Math.abs(t),256/563)*Math.sign(t),mn=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o={mode:"a98",r:vt(t*2.0415879038107465-e*.5650069742788597-.3447313507783297*n),g:vt(t*-.9692436362808798+e*1.8759675015077206+.0415550574071756*n),b:vt(t*.0134442806320312-e*.1183623922310184+1.0151749943912058*n)};return r!==void 0&&(o.alpha=r),o},wt=(t=0)=>{const e=Math.abs(t);return e<=.04045?t/12.92:(Math.sign(t)||1)*Math.pow((e+.055)/1.055,2.4)},Se=({r:t,g:e,b:n,alpha:r})=>{let o={mode:"lrgb",r:wt(t),g:wt(e),b:wt(n)};return r!==void 0&&(o.alpha=r),o},ye=t=>{let{r:e,g:n,b:r,alpha:o}=Se(t),i={mode:"xyz65",x:.4123907992659593*e+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*e+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*e+.119194779794626*n+.9505321522496607*r};return o!==void 0&&(i.alpha=o),i},$t=(t=0)=>{const e=Math.abs(t);return e>.0031308?(Math.sign(t)||1)*(1.055*Math.pow(e,1/2.4)-.055):t*12.92},Re=({r:t,g:e,b:n,alpha:r},o="rgb")=>{let i={mode:o,r:$t(t),g:$t(e),b:$t(n)};return r!==void 0&&(i.alpha=r),i},ve=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Re({r:t*3.2409699419045226-e*1.537383177570094-.4986107602930034*n,g:t*-.9692436362808796+e*1.8759675015077204+.0415550574071756*n,b:t*.0556300796969936-e*.2039769588889765+1.0569715142428784*n});return r!==void 0&&(o.alpha=r),o},fr={...Ee,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:t=>mn(ye(t)),xyz65:mn},toMode:{rgb:t=>ve(bn(t)),xyz65:bn}},N=t=>(t=t%360)<0?t+360:t,cr=(t,e)=>t.map((n,r,o)=>{if(n===void 0)return n;let i=N(n);return r===0||t[r-1]===void 0?i:e(i-N(o[r-1]))}).reduce((n,r)=>!n.length||r===void 0||n[n.length-1]===void 0?(n.push(r),n):(n.push(r+n[n.length-1]),n),[]),re=t=>cr(t,e=>Math.abs(e)<=180?e:e-360*Math.sign(e)),L=[-.14861,1.78277,-.29227,-.90649,1.97294,0],ur=Math.PI/180,hr=180/Math.PI;let xn=L[3]*L[4],Mn=L[1]*L[4],yn=L[1]*L[2]-L[0]*L[3];const pr=({r:t,g:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=(yn*n+t*xn-e*Mn)/(yn+xn-Mn),i=n-o,s=(L[4]*(e-o)-L[2]*i)/L[3],a={mode:"cubehelix",l:o,s:o===0||o===1?void 0:Math.sqrt(i*i+s*s)/(L[4]*o*(1-o))};return a.s&&(a.h=Math.atan2(s,i)*hr-120),r!==void 0&&(a.alpha=r),a},gr=({h:t,s:e,l:n,alpha:r})=>{let o={mode:"rgb"};t=(t===void 0?0:t+120)*ur,n===void 0&&(n=0);let i=e===void 0?0:e*n*(1-n),s=Math.cos(t),a=Math.sin(t);return o.r=n+i*(L[0]*s+L[1]*a),o.g=n+i*(L[2]*s+L[3]*a),o.b=n+i*(L[4]*s+L[5]*a),r!==void 0&&(o.alpha=r),o},ot=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.s||!e.s)return 0;let n=N(t.h),r=N(e.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(t.s*e.s)*o},br=(t,e)=>{if(t.h===void 0||e.h===void 0)return 0;let n=N(t.h),r=N(e.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n},rt=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.c||!e.c)return 0;let n=N(t.h),r=N(e.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(t.c*e.c)*o},mr=(t=1,e=1,n=1)=>{let r=Me("lab65");return(o,i)=>{let s=r(o),a=r(i),l=s.l,c=s.a,u=s.b,m=Math.sqrt(c*c+u*u),b=a.l,p=a.a,M=a.b,v=Math.sqrt(p*p+M*M),w=(m+v)/2,x=.5*(1-Math.sqrt(Math.pow(w,7)/(Math.pow(w,7)+Math.pow(25,7)))),P=c*(1+x),z=p*(1+x),C=Math.sqrt(P*P+u*u),T=Math.sqrt(z*z+M*M),q=Math.abs(P)+Math.abs(u)===0?0:Math.atan2(u,P);q+=(q<0)*2*Math.PI;let X=Math.abs(z)+Math.abs(M)===0?0:Math.atan2(M,z);X+=(X<0)*2*Math.PI;let ue=b-l,se=T-C,B=C*T===0?0:X-q;B-=(B>Math.PI)*2*Math.PI,B+=(B<-Math.PI)*2*Math.PI;let G=2*Math.sqrt(C*T)*Math.sin(B/2),he=(l+b)/2,pe=(C+T)/2,D;C*T===0?D=q+X:(D=(q+X)/2,D-=(Math.abs(q-X)>Math.PI)*Math.PI,D+=(D<0)*2*Math.PI);let Ve=Math.pow(he-50,2),We=1-.17*Math.cos(D-Math.PI/6)+.24*Math.cos(2*D)+.32*Math.cos(3*D+Math.PI/30)-.2*Math.cos(4*D-63*Math.PI/180),Le=1+.015*Ve/Math.sqrt(20+Ve),Fe=1+.045*pe,we=1+.015*pe*We,bt=30*Math.PI/180*Math.exp(-1*Math.pow((180/Math.PI*D-275)/25,2)),Ye=2*Math.sqrt(Math.pow(pe,7)/(Math.pow(pe,7)+Math.pow(25,7))),Ne=-1*Math.sin(2*bt)*Ye;return Math.sqrt(Math.pow(ue/(t*Le),2)+Math.pow(se/(e*Fe),2)+Math.pow(G/(n*we),2)+Ne*se/(e*Fe)*G/(n*we))}},ie=t=>{let e=t.reduce((r,o)=>{if(o!==void 0){let i=o*Math.PI/180;r.sin+=Math.sin(i),r.cos+=Math.cos(i)}return r},{sin:0,cos:0}),n=Math.atan2(e.sin,e.cos)*180/Math.PI;return n<0?360+n:n},xr={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:pr},toMode:{rgb:gr},interpolate:{h:{use:g,fixup:re},s:g,l:g,alpha:{use:g,fixup:I}},difference:{h:ot},average:{h:ie}},fe=({l:t,a:e,b:n,alpha:r},o="lch")=>{e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.sqrt(e*e+n*n),s={mode:o,l:t,c:i};return i&&(s.h=N(Math.atan2(n,e)*180/Math.PI)),r!==void 0&&(s.alpha=r),s},ce=({l:t,c:e,h:n,alpha:r},o="lab")=>{n===void 0&&(n=0);let i={mode:o,l:t,a:e?e*Math.cos(n/180*Math.PI):0,b:e?e*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},Un=Math.pow(29,3)/Math.pow(3,3),Qn=Math.pow(6,3)/Math.pow(29,3),R={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},ze={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let kt=t=>Math.pow(t,3)>Qn?Math.pow(t,3):(116*t-16)/Un;const eo=({l:t,a:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=(t+16)/116,i=e/500+o,s=o-n/200,a={mode:"xyz65",x:kt(i)*ze.X,y:kt(o)*ze.Y,z:kt(s)*ze.Z};return r!==void 0&&(a.alpha=r),a},it=t=>ve(eo(t)),Pt=t=>t>Qn?Math.cbrt(t):(Un*t+16)/116,to=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Pt(t/ze.X),i=Pt(e/ze.Y),s=Pt(n/ze.Z),a={mode:"lab65",l:116*i-16,a:500*(o-i),b:200*(i-s)};return r!==void 0&&(a.alpha=r),a},st=t=>{let e=to(ye(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Qe=1,no=1,qe=26/180*Math.PI,et=Math.cos(qe),tt=Math.sin(qe),oo=100/Math.log(139/100),Vt=({l:t,c:e,h:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o={mode:"lab65",l:(Math.exp(t*Qe/oo)-1)/.0039},i=(Math.exp(.0435*e*no*Qe)-1)/.075,s=i*Math.cos(n/180*Math.PI-qe),a=i*Math.sin(n/180*Math.PI-qe);return o.a=s*et-a/.83*tt,o.b=s*tt+a/.83*et,r!==void 0&&(o.alpha=r),o},Wt=({l:t,a:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=e*et+n*tt,i=.83*(n*et-e*tt),s=Math.sqrt(o*o+i*i),a={mode:"dlch",l:oo/Qe*Math.log(1+.0039*t),c:Math.log(1+.075*s)/(.0435*no*Qe)};return a.c&&(a.h=N((Math.atan2(i,o)+qe)/Math.PI*180)),r!==void 0&&(a.alpha=r),a},vn=t=>Vt(fe(t,"dlch")),wn=t=>ce(Wt(t),"dlab"),Mr={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:vn,rgb:t=>it(vn(t))},fromMode:{lab65:wn,rgb:t=>wn(st(t))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:g,a:g,b:g,alpha:{use:g,fixup:I}}},yr={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Vt,dlab:t=>ce(t,"dlab"),rgb:t=>it(Vt(t))},fromMode:{lab65:Wt,dlab:t=>fe(t,"dlch"),rgb:t=>Wt(st(t))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:g,c:g,h:{use:g,fixup:re},alpha:{use:g,fixup:I}},difference:{h:rt},average:{h:ie}};function vr({h:t,s:e,i:n,alpha:r}){t=N(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.abs(t/60%2-1),i;switch(Math.floor(t/60)){case 0:i={r:n*(1+e*(3/(2-o)-1)),g:n*(1+e*(3*(1-o)/(2-o)-1)),b:n*(1-e)};break;case 1:i={r:n*(1+e*(3*(1-o)/(2-o)-1)),g:n*(1+e*(3/(2-o)-1)),b:n*(1-e)};break;case 2:i={r:n*(1-e),g:n*(1+e*(3/(2-o)-1)),b:n*(1+e*(3*(1-o)/(2-o)-1))};break;case 3:i={r:n*(1-e),g:n*(1+e*(3*(1-o)/(2-o)-1)),b:n*(1+e*(3/(2-o)-1))};break;case 4:i={r:n*(1+e*(3*(1-o)/(2-o)-1)),g:n*(1-e),b:n*(1+e*(3/(2-o)-1))};break;case 5:i={r:n*(1+e*(3/(2-o)-1)),g:n*(1-e),b:n*(1+e*(3*(1-o)/(2-o)-1))};break;default:i={r:n*(1-e),g:n*(1-e),b:n*(1-e)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function wr({r:t,g:e,b:n,alpha:r}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.max(t,e,n),i=Math.min(t,e,n),s={mode:"hsi",s:t+e+n===0?0:1-3*i/(t+e+n),i:(t+e+n)/3};return o-i!==0&&(s.h=(o===t?(e-n)/(o-i)+(e<n)*6:o===e?(n-t)/(o-i)+2:(t-e)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const $r={mode:"hsi",toMode:{rgb:vr},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:wr},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:g,fixup:re},s:g,i:g,alpha:{use:g,fixup:I}},difference:{h:ot},average:{h:ie}};function kr({h:t,s:e,l:n,alpha:r}){t=N(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let o=n+e*(n<.5?n:1-n),i=o-(o-n)*2*Math.abs(t/60%2-1),s;switch(Math.floor(t/60)){case 0:s={r:o,g:i,b:2*n-o};break;case 1:s={r:i,g:o,b:2*n-o};break;case 2:s={r:2*n-o,g:o,b:i};break;case 3:s={r:2*n-o,g:i,b:o};break;case 4:s={r:i,g:2*n-o,b:o};break;case 5:s={r:o,g:2*n-o,b:i};break;default:s={r:2*n-o,g:2*n-o,b:2*n-o}}return s.mode="rgb",r!==void 0&&(s.alpha=r),s}function Pr({r:t,g:e,b:n,alpha:r}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.max(t,e,n),i=Math.min(t,e,n),s={mode:"hsl",s:o===i?0:(o-i)/(1-Math.abs(o+i-1)),l:.5*(o+i)};return o-i!==0&&(s.h=(o===t?(e-n)/(o-i)+(e<n)*6:o===e?(n-t)/(o-i)+2:(t-e)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const _r=(t,e)=>{switch(e){case"deg":return+t;case"rad":return t/Math.PI*180;case"grad":return t/10*9;case"turn":return t*360}},zr=new RegExp(`^hsla?\\(\\s*${Wo}${Te}${Ae}${Te}${Ae}\\s*(?:,\\s*${on}\\s*)?\\)$`),Cr=t=>{let e=t.match(zr);if(!e)return;let n={mode:"hsl"};return e[3]!==void 0?n.h=+e[3]:e[1]!==void 0&&e[2]!==void 0&&(n.h=_r(e[1],e[2])),e[4]!==void 0&&(n.s=Math.min(Math.max(0,e[4]/100),1)),e[5]!==void 0&&(n.l=Math.min(Math.max(0,e[5]/100),1)),e[6]!==void 0?n.alpha=Math.max(0,Math.min(1,e[6]/100)):e[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+e[7]))),n};function Tr(t,e){if(!e||e[0]!=="hsl"&&e[0]!=="hsla")return;const n={mode:"hsl"},[,r,o,i,s]=e;if(r.type!==f.None){if(r.type===f.Percentage)return;n.h=r.value}if(o.type!==f.None){if(o.type===f.Hue)return;n.s=o.value/100}if(i.type!==f.None){if(i.type===f.Hue)return;n.l=i.value/100}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const ro={mode:"hsl",toMode:{rgb:kr},fromMode:{rgb:Pr},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Tr,Cr],serialize:t=>`hsl(${t.h!==void 0?t.h:"none"} ${t.s!==void 0?t.s*100+"%":"none"} ${t.l!==void 0?t.l*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:g,fixup:re},s:g,l:g,alpha:{use:g,fixup:I}},difference:{h:ot},average:{h:ie}};function io({h:t,s:e,v:n,alpha:r}){t=N(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.abs(t/60%2-1),i;switch(Math.floor(t/60)){case 0:i={r:n,g:n*(1-e*o),b:n*(1-e)};break;case 1:i={r:n*(1-e*o),g:n,b:n*(1-e)};break;case 2:i={r:n*(1-e),g:n,b:n*(1-e*o)};break;case 3:i={r:n*(1-e),g:n*(1-e*o),b:n};break;case 4:i={r:n*(1-e*o),g:n*(1-e),b:n};break;case 5:i={r:n,g:n*(1-e),b:n*(1-e*o)};break;default:i={r:n*(1-e),g:n*(1-e),b:n*(1-e)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function so({r:t,g:e,b:n,alpha:r}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.max(t,e,n),i=Math.min(t,e,n),s={mode:"hsv",s:o===0?0:1-i/o,v:o};return o-i!==0&&(s.h=(o===t?(e-n)/(o-i)+(e<n)*6:o===e?(n-t)/(o-i)+2:(t-e)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const ao={mode:"hsv",toMode:{rgb:io},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:so},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:g,fixup:re},s:g,v:g,alpha:{use:g,fixup:I}},difference:{h:ot},average:{h:ie}};function Er({h:t,w:e,b:n,alpha:r}){if(e===void 0&&(e=0),n===void 0&&(n=0),e+n>1){let o=e+n;e/=o,n/=o}return io({h:t,s:n===1?1:1-e/(1-n),v:1-n,alpha:r})}function Sr(t){let e=so(t);if(e===void 0)return;let n=e.s!==void 0?e.s:0,r=e.v!==void 0?e.v:0,o={mode:"hwb",w:(1-n)*r,b:1-r};return e.h!==void 0&&(o.h=e.h),e.alpha!==void 0&&(o.alpha=e.alpha),o}function Rr(t,e){if(!e||e[0]!=="hwb")return;const n={mode:"hwb"},[,r,o,i,s]=e;if(r.type!==f.None){if(r.type===f.Percentage)return;n.h=r.value}if(o.type!==f.None){if(o.type===f.Hue)return;n.w=o.value/100}if(i.type!==f.None){if(i.type===f.Hue)return;n.b=i.value/100}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const Ir={mode:"hwb",toMode:{rgb:Er},fromMode:{rgb:Sr},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Rr],serialize:t=>`hwb(${t.h!==void 0?t.h:"none"} ${t.w!==void 0?t.w*100+"%":"none"} ${t.b!==void 0?t.b*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:g,fixup:re},w:g,b:g,alpha:{use:g,fixup:I}},difference:{h:br},average:{h:ie}},lo=203,at=.1593017578125,fo=78.84375,lt=.8359375,dt=18.8515625,ft=18.6875;function _t(t){if(t<0)return 0;const e=Math.pow(t,1/fo);return 1e4*Math.pow(Math.max(0,e-lt)/(dt-ft*e),1/at)}function zt(t){if(t<0)return 0;const e=Math.pow(t/1e4,at);return Math.pow((lt+dt*e)/(1+ft*e),fo)}const Ct=t=>Math.max(t/lo,0),$n=({i:t,t:e,p:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const o=_t(t+.008609037037932761*e+.11102962500302593*n),i=_t(t-.00860903703793275*e-.11102962500302599*n),s=_t(t+.5600313357106791*e-.32062717498731885*n),a={mode:"xyz65",x:Ct(2.070152218389422*o-1.3263473389671556*i+.2066510476294051*s),y:Ct(.3647385209748074*o+.680566024947227*i-.0453045459220346*s),z:Ct(-.049747207535812*o-.0492609666966138*i+1.1880659249923042*s)};return r!==void 0&&(a.alpha=r),a},Tt=(t=0)=>Math.max(t*lo,0),kn=({x:t,y:e,z:n,alpha:r})=>{const o=Tt(t),i=Tt(e),s=Tt(n),a=zt(.3592832590121217*o+.6976051147779502*i-.0358915932320289*s),l=zt(-.1920808463704995*o+1.1004767970374323*i+.0753748658519118*s),c=zt(.0070797844607477*o+.0748396662186366*i+.8433265453898765*s),u=.5*a+.5*l,m=1.61376953125*a-3.323486328125*l+1.709716796875*c,b=4.378173828125*a-4.24560546875*l-.132568359375*c,p={mode:"itp",i:u,t:m,p:b};return r!==void 0&&(p.alpha=r),p},Lr={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:$n,rgb:t=>ve($n(t))},fromMode:{xyz65:kn,rgb:t=>kn(ye(t))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:g,t:g,p:g,alpha:{use:g,fixup:I}}},Fr=134.03437499999998,Nr=16295499532821565e-27,Et=t=>{if(t<0)return 0;let e=Math.pow(t/1e4,at);return Math.pow((lt+dt*e)/(1+ft*e),Fr)},St=(t=0)=>Math.max(t*203,0),co=({x:t,y:e,z:n,alpha:r})=>{t=St(t),e=St(e),n=St(n);let o=1.15*t-.15*n,i=.66*e+.34*t,s=Et(.41478972*o+.579999*i+.014648*n),a=Et(-.20151*o+1.120649*i+.0531008*n),l=Et(-.0166008*o+.2648*i+.6684799*n),c=(s+a)/2,u={mode:"jab",j:.44*c/(1-.56*c)-Nr,a:3.524*s-4.066708*a+.542708*l,b:.199076*s+1.096799*a-1.295875*l};return r!==void 0&&(u.alpha=r),u},Hr=134.03437499999998,Pn=16295499532821565e-27,Rt=t=>{if(t<0)return 0;let e=Math.pow(t,1/Hr);return 1e4*Math.pow((lt-e)/(ft*e-dt),1/at)},It=t=>t/203,uo=({j:t,a:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=(t+Pn)/(.44+.56*(t+Pn)),i=Rt(o+.13860504*e+.058047316*n),s=Rt(o-.13860504*e-.058047316*n),a=Rt(o-.096019242*e-.8118919*n),l={mode:"xyz65",x:It(1.661373024652174*i-.914523081304348*s+.23136208173913045*a),y:It(-.3250758611844533*i+1.571847026732543*s-.21825383453227928*a),z:It(-.090982811*i-.31272829*s+1.5227666*a)};return r!==void 0&&(l.alpha=r),l},ho=t=>{let e=co(ye(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},po=t=>ve(uo(t)),jr={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:ho,xyz65:co},toMode:{rgb:po,xyz65:uo},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:g,a:g,b:g,alpha:{use:g,fixup:I}}},_n=({j:t,a:e,b:n,alpha:r})=>{e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.sqrt(e*e+n*n),i={mode:"jch",j:t,c:o};return o&&(i.h=N(Math.atan2(n,e)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},zn=({j:t,c:e,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"jab",j:t,a:e?e*Math.cos(n/180*Math.PI):0,b:e?e*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},Ar={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:zn,rgb:t=>po(zn(t))},fromMode:{rgb:t=>_n(ho(t)),jab:_n},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:g,fixup:re},c:g,j:g,alpha:{use:g,fixup:I}},difference:{h:rt},average:{h:ie}},ct=Math.pow(29,3)/Math.pow(3,3),rn=Math.pow(6,3)/Math.pow(29,3);let Lt=t=>Math.pow(t,3)>rn?Math.pow(t,3):(116*t-16)/ct;const sn=({l:t,a:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=(t+16)/116,i=e/500+o,s=o-n/200,a={mode:"xyz50",x:Lt(i)*R.X,y:Lt(o)*R.Y,z:Lt(s)*R.Z};return r!==void 0&&(a.alpha=r),a},Xe=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Re({r:t*3.1341359569958707-e*1.6173863321612538-.4906619460083532*n,g:t*-.978795502912089+e*1.916254567259524+.03344273116131949*n,b:t*.07195537988411677-e*.2289768264158322+1.405386058324125*n});return r!==void 0&&(o.alpha=r),o},go=t=>Xe(sn(t)),Be=t=>{let{r:e,g:n,b:r,alpha:o}=Se(t),i={mode:"xyz50",x:.436065742824811*e+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*e+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*e+.09708128566574634*n+.7140993584005155*r};return o!==void 0&&(i.alpha=o),i},Ft=t=>t>rn?Math.cbrt(t):(ct*t+16)/116,an=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Ft(t/R.X),i=Ft(e/R.Y),s=Ft(n/R.Z),a={mode:"lab",l:116*i-16,a:500*(o-i),b:200*(i-s)};return r!==void 0&&(a.alpha=r),a},bo=t=>{let e=an(Be(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e};function qr(t,e){if(!e||e[0]!=="lab")return;const n={mode:"lab"},[,r,o,i,s]=e;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.l=Math.min(Math.max(0,r.value),100)),o.type!==f.None&&(n.a=o.type===f.Number?o.value:o.value*125/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value:i.value*125/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const ln={mode:"lab",toMode:{xyz50:sn,rgb:go},fromMode:{xyz50:an,rgb:bo},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[qr],serialize:t=>`lab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{l:g,a:g,b:g,alpha:{use:g,fixup:I}}},Dr={...ln,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:eo,rgb:it},fromMode:{xyz65:to,rgb:st},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};function Xr(t,e){if(!e||e[0]!=="lch")return;const n={mode:"lch"},[,r,o,i,s]=e;if(r.type!==f.None){if(r.type===f.Hue)return;n.l=Math.min(Math.max(0,r.value),100)}if(o.type!==f.None&&(n.c=Math.max(0,o.type===f.Number?o.value:o.value*150/100)),i.type!==f.None){if(i.type===f.Percentage)return;n.h=i.value}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const dn={mode:"lch",toMode:{lab:ce,rgb:t=>go(ce(t))},fromMode:{rgb:t=>fe(bo(t)),lab:fe},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[Xr],serialize:t=>`lch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:g,fixup:re},c:g,l:g,alpha:{use:g,fixup:I}},difference:{h:rt},average:{h:ie}},Br={...dn,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:t=>ce(t,"lab65"),rgb:t=>it(ce(t,"lab65"))},fromMode:{rgb:t=>fe(st(t),"lch65"),lab65:t=>fe(t,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},mo=({l:t,u:e,v:n,alpha:r})=>{e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.sqrt(e*e+n*n),i={mode:"lchuv",l:t,c:o};return o&&(i.h=N(Math.atan2(n,e)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},xo=({l:t,c:e,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"luv",l:t,u:e?e*Math.cos(n/180*Math.PI):0,v:e?e*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},Mo=(t,e,n)=>4*t/(t+15*e+3*n),yo=(t,e,n)=>9*e/(t+15*e+3*n),Or=Mo(R.X,R.Y,R.Z),Vr=yo(R.X,R.Y,R.Z),Wr=t=>t<=rn?ct*t:116*Math.cbrt(t)-16,Yt=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Wr(e/R.Y),i=Mo(t,e,n),s=yo(t,e,n);!isFinite(i)||!isFinite(s)?o=i=s=0:(i=13*o*(i-Or),s=13*o*(s-Vr));let a={mode:"luv",l:o,u:i,v:s};return r!==void 0&&(a.alpha=r),a},Yr=(t,e,n)=>4*t/(t+15*e+3*n),Kr=(t,e,n)=>9*e/(t+15*e+3*n),Zr=Yr(R.X,R.Y,R.Z),Jr=Kr(R.X,R.Y,R.Z),Kt=({l:t,u:e,v:n,alpha:r})=>{if(t===void 0&&(t=0),t===0)return{mode:"xyz50",x:0,y:0,z:0};e===void 0&&(e=0),n===void 0&&(n=0);let o=e/(13*t)+Zr,i=n/(13*t)+Jr,s=R.Y*(t<=8?t/ct:Math.pow((t+16)/116,3)),a=s*(9*o)/(4*i),l=s*(12-3*o-20*i)/(4*i),c={mode:"xyz50",x:a,y:s,z:l};return r!==void 0&&(c.alpha=r),c},Gr=t=>mo(Yt(Be(t))),Ur=t=>Xe(Kt(xo(t))),Qr={mode:"lchuv",toMode:{luv:xo,rgb:Ur},fromMode:{rgb:Gr,luv:mo},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:g,fixup:re},c:g,l:g,alpha:{use:g,fixup:I}},difference:{h:rt},average:{h:ie}},ei={...Ee,mode:"lrgb",toMode:{rgb:Re},fromMode:{rgb:Se},parse:["srgb-linear"],serialize:"srgb-linear"},ti={mode:"luv",toMode:{xyz50:Kt,rgb:t=>Xe(Kt(t))},fromMode:{xyz50:Yt,rgb:t=>Yt(Be(t))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:g,u:g,v:g,alpha:{use:g,fixup:I}}},vo=({r:t,g:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.cbrt(.41222147079999993*t+.5363325363*e+.0514459929*n),i=Math.cbrt(.2119034981999999*t+.6806995450999999*e+.1073969566*n),s=Math.cbrt(.08830246189999998*t+.2817188376*e+.6299787005000002*n),a={mode:"oklab",l:.2104542553*o+.793617785*i-.0040720468*s,a:1.9779984951*o-2.428592205*i+.4505937099*s,b:.0259040371*o+.7827717662*i-.808675766*s};return r!==void 0&&(a.alpha=r),a},ut=t=>{let e=vo(Se(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Oe=({l:t,a:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Math.pow(t*.9999999984505198+.39633779217376786*e+.2158037580607588*n,3),i=Math.pow(t*1.0000000088817609-.10556134232365635*e-.06385417477170591*n,3),s=Math.pow(t*1.0000000546724108-.08948418209496575*e-1.2914855378640917*n,3),a={mode:"lrgb",r:4.076741661347994*o-3.307711590408193*i+.230969928729428*s,g:-1.2684380040921763*o+2.6097574006633715*i-.3413193963102197*s,b:-.004196086541837188*o-.7034186144594493*i+1.7076147009309444*s};return r!==void 0&&(a.alpha=r),a},ht=t=>Re(Oe(t));function Zt(t){const r=1.170873786407767;return .5*(r*t-.206+Math.sqrt((r*t-.206)*(r*t-.206)+4*.03*r*t))}function nt(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}function ni(t,e){let n,r,o,i,s,a,l,c;-1.88170328*t-.80936493*e>1?(n=1.19086277,r=1.76576728,o=.59662641,i=.75515197,s=.56771245,a=4.0767416621,l=-3.3077115913,c=.2309699292):1.81444104*t-1.19445276*e>1?(n=.73956515,r=-.45954404,o=.08285427,i=.1254107,s=.14503204,a=-1.2684380046,l=2.6097574011,c=-.3413193965):(n=1.35733652,r=-.00915799,o=-1.1513021,i=-.50559606,s=.00692167,a=-.0041960863,l=-.7034186147,c=1.707614701);let u=n+r*t+o*e+i*t*t+s*t*e,m=.3963377774*t+.2158037573*e,b=-.1055613458*t-.0638541728*e,p=-.0894841775*t-1.291485548*e;{let M=1+u*m,v=1+u*b,w=1+u*p,x=M*M*M,P=v*v*v,z=w*w*w,C=3*m*M*M,T=3*b*v*v,q=3*p*w*w,X=6*m*m*M,ue=6*b*b*v,se=6*p*p*w,B=a*x+l*P+c*z,G=a*C+l*T+c*q,he=a*X+l*ue+c*se;u=u-B*G/(G*G-.5*B*he)}return u}function fn(t,e){let n=ni(t,e),r=Oe({l:1,a:n*t,b:n*e}),o=Math.cbrt(1/Math.max(r.r,r.g,r.b)),i=o*n;return[o,i]}function oi(t,e,n,r,o,i=null){i||(i=fn(t,e));let s;if((n-o)*i[1]-(i[0]-o)*r<=0)s=i[1]*o/(r*i[0]+i[1]*(o-n));else{s=i[1]*(o-1)/(r*(i[0]-1)+i[1]*(o-n));{let a=n-o,l=r,c=.3963377774*t+.2158037573*e,u=-.1055613458*t-.0638541728*e,m=-.0894841775*t-1.291485548*e,b=a+l*c,p=a+l*u,M=a+l*m;{let v=o*(1-s)+s*n,w=s*r,x=v+w*c,P=v+w*u,z=v+w*m,C=x*x*x,T=P*P*P,q=z*z*z,X=3*b*x*x,ue=3*p*P*P,se=3*M*z*z,B=6*b*b*x,G=6*p*p*P,he=6*M*M*z,pe=4.0767416621*C-3.3077115913*T+.2309699292*q-1,D=4.0767416621*X-3.3077115913*ue+.2309699292*se,Ve=4.0767416621*B-3.3077115913*G+.2309699292*he,We=D/(D*D-.5*pe*Ve),Le=-pe*We,Fe=-1.2684380046*C+2.6097574011*T-.3413193965*q-1,we=-1.2684380046*X+2.6097574011*ue-.3413193965*se,bt=-1.2684380046*B+2.6097574011*G-.3413193965*he,Ye=we/(we*we-.5*Fe*bt),Ne=-Fe*Ye,hn=-.0041960863*C-.7034186147*T+1.707614701*q-1,mt=-.0041960863*X-.7034186147*ue+1.707614701*se,Do=-.0041960863*B-.7034186147*G+1.707614701*he,pn=mt/(mt*mt-.5*hn*Do),xt=-hn*pn;Le=We>=0?Le:1e6,Ne=Ye>=0?Ne:1e6,xt=pn>=0?xt:1e6,s+=Math.min(Le,Math.min(Ne,xt))}}}return s}function cn(t,e,n=null){n||(n=fn(t,e));let r=n[0],o=n[1];return[o/r,o/(1-r)]}function wo(t,e,n){let r=fn(e,n),o=oi(e,n,t,1,t,r),i=cn(e,n,r),s=.11516993+1/(7.4477897+4.1590124*n+e*(-2.19557347+1.75198401*n+e*(-2.13704948-10.02301043*n+e*(-4.24894561+5.38770819*n+4.69891013*e)))),a=.11239642+1/(1.6132032-.68124379*n+e*(.40370612+.90148123*n+e*(-.27087943+.6122399*n+e*(.00299215-.45399568*n-.14661872*e)))),l=o/Math.min(t*i[0],(1-t)*i[1]),c=t*s,u=(1-t)*a,m=.9*l*Math.sqrt(Math.sqrt(1/(1/(c*c*c*c)+1/(u*u*u*u))));return c=t*.4,u=(1-t)*.8,[Math.sqrt(1/(1/(c*c)+1/(u*u))),m,o]}function Cn(t){const e=t.l!==void 0?t.l:0,n=t.a!==void 0?t.a:0,r=t.b!==void 0?t.b:0,o={mode:"okhsl",l:Zt(e)};t.alpha!==void 0&&(o.alpha=t.alpha);let i=Math.sqrt(n*n+r*r);if(!i)return o.s=0,o;let[s,a,l]=wo(e,n/i,r/i),c;if(i<a){let u=0,m=.8*s,b=1-m/a;c=(i-u)/(m+b*(i-u))*.8}else{let u=a,m=.2*a*a*1.25*1.25/s,b=1-m/(l-a);c=.8+.2*((i-u)/(m+b*(i-u)))}return c&&(o.s=c,o.h=N(Math.atan2(r,n)*180/Math.PI)),o}function Tn(t){let e=t.h!==void 0?t.h:0,n=t.s!==void 0?t.s:0,r=t.l!==void 0?t.l:0;const o={mode:"oklab",l:nt(r)};if(t.alpha!==void 0&&(o.alpha=t.alpha),!n||r===1)return o.a=o.b=0,o;let i=Math.cos(e/180*Math.PI),s=Math.sin(e/180*Math.PI),[a,l,c]=wo(o.l,i,s),u,m,b,p;n<.8?(u=1.25*n,m=0,b=.8*a,p=1-b/l):(u=5*(n-.8),m=l,b=.2*l*l*1.25*1.25/a,p=1-b/(c-l));let M=m+u*b/(1-p*u);return o.a=M*i,o.b=M*s,o}const ri={...ro,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Cn,rgb:t=>Cn(ut(t))},toMode:{oklab:Tn,rgb:t=>ht(Tn(t))}};function En(t){let e=t.l!==void 0?t.l:0,n=t.a!==void 0?t.a:0,r=t.b!==void 0?t.b:0,o=Math.sqrt(n*n+r*r),i=o?n/o:1,s=o?r/o:1,[a,l]=cn(i,s),c=.5,u=1-c/a,m=l/(o+e*l),b=m*e,p=m*o,M=nt(b),v=p*M/b,w=Oe({l:M,a:i*v,b:s*v}),x=Math.cbrt(1/Math.max(w.r,w.g,w.b,0));e=e/x,o=o/x*Zt(e)/e,e=Zt(e);const P={mode:"okhsv",s:o?(c+l)*p/(l*c+l*u*p):0,v:e?e/b:0};return P.s&&(P.h=N(Math.atan2(r,n)*180/Math.PI)),t.alpha!==void 0&&(P.alpha=t.alpha),P}function Sn(t){const e={mode:"oklab"};t.alpha!==void 0&&(e.alpha=t.alpha);const n=t.h!==void 0?t.h:0,r=t.s!==void 0?t.s:0,o=t.v!==void 0?t.v:0,i=Math.cos(n/180*Math.PI),s=Math.sin(n/180*Math.PI),[a,l]=cn(i,s),c=.5,u=1-c/a,m=1-r*c/(c+l-l*u*r),b=r*l*c/(c+l-l*u*r),p=nt(m),M=b*p/m,v=Oe({l:p,a:i*M,b:s*M}),w=Math.cbrt(1/Math.max(v.r,v.g,v.b,0)),x=nt(o*m),P=b*x/m;return e.l=x*w,e.a=P*i*w,e.b=P*s*w,e}const ii={...ao,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:En,rgb:t=>En(ut(t))},toMode:{oklab:Sn,rgb:t=>ht(Sn(t))}};function si(t,e){if(!e||e[0]!=="oklab")return;const n={mode:"oklab"},[,r,o,i,s]=e;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.l=Math.min(Math.max(0,r.type===f.Number?r.value:r.value/100),1)),o.type!==f.None&&(n.a=o.type===f.Number?o.value:o.value*.4/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value:i.value*.4/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const ai={...ln,mode:"oklab",toMode:{lrgb:Oe,rgb:ht},fromMode:{lrgb:vo,rgb:ut},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[si],serialize:t=>`oklab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`};function li(t,e){if(!e||e[0]!=="oklch")return;const n={mode:"oklch"},[,r,o,i,s]=e;if(r.type!==f.None){if(r.type===f.Hue)return;n.l=Math.min(Math.max(0,r.type===f.Number?r.value:r.value/100),1)}if(o.type!==f.None&&(n.c=Math.max(0,o.type===f.Number?o.value:o.value*.4/100)),i.type!==f.None){if(i.type===f.Percentage)return;n.h=i.value}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const di={...dn,mode:"oklch",toMode:{oklab:t=>ce(t,"oklab"),rgb:t=>ht(ce(t,"oklab"))},fromMode:{rgb:t=>fe(ut(t),"oklch"),oklab:t=>fe(t,"oklch")},parse:[li],serialize:t=>`oklch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Rn=t=>{let{r:e,g:n,b:r,alpha:o}=Se(t),i={mode:"xyz65",x:.486570948648216*e+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*e+.6917385218365062*n+.079286914093745*r,z:0*e+.0451133818589026*n+1.043944368900976*r};return o!==void 0&&(i.alpha=o),i},In=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o=Re({r:t*2.4934969119414263-e*.9313836179191242-.402710784450717*n,g:t*-.8294889695615749+e*1.7626640603183465+.0236246858419436*n,b:t*.0358458302437845-e*.0761723892680418+.9568845240076871*n},"p3");return r!==void 0&&(o.alpha=r),o},fi={...Ee,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:t=>In(ye(t)),xyz65:In},toMode:{rgb:t=>ve(Rn(t)),xyz65:Rn}},Nt=t=>{let e=Math.abs(t);return e>=1/512?Math.sign(t)*Math.pow(e,1/1.8):16*t},Ln=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o={mode:"prophoto",r:Nt(t*1.3457868816471585-e*.2555720873797946-.0511018649755453*n),g:Nt(t*-.5446307051249019+e*1.5082477428451466+.0205274474364214*n),b:Nt(t*0+e*0+1.2119675456389452*n)};return r!==void 0&&(o.alpha=r),o},Ht=(t=0)=>{let e=Math.abs(t);return e>=16/512?Math.sign(t)*Math.pow(e,1.8):t/16},Fn=t=>{let e=Ht(t.r),n=Ht(t.g),r=Ht(t.b),o={mode:"xyz50",x:.7977666449006423*e+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*e+.7118352342418731*n+899369387256e-16*r,z:0*e+0*n+.8251046025104602*r};return t.alpha!==void 0&&(o.alpha=t.alpha),o},ci={...Ee,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:Ln,rgb:t=>Ln(Be(t))},toMode:{xyz50:Fn,rgb:t=>Xe(Fn(t))}},Nn=1.09929682680944,ui=.018053968510807,jt=t=>{const e=Math.abs(t);return e>ui?(Math.sign(t)||1)*(Nn*Math.pow(e,.45)-(Nn-1)):4.5*t},Hn=({x:t,y:e,z:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let o={mode:"rec2020",r:jt(t*1.7166511879712683-e*.3556707837763925-.2533662813736599*n),g:jt(t*-.6666843518324893+e*1.6164812366349395+.0157685458139111*n),b:jt(t*.0176398574453108-e*.0427706132578085+.9421031212354739*n)};return r!==void 0&&(o.alpha=r),o},jn=1.09929682680944,hi=.018053968510807,At=(t=0)=>{let e=Math.abs(t);return e<hi*4.5?t/4.5:(Math.sign(t)||1)*Math.pow((e+jn-1)/jn,1/.45)},An=t=>{let e=At(t.r),n=At(t.g),r=At(t.b),o={mode:"xyz65",x:.6369580483012911*e+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*e+.6779980715188708*n+.059301716469862*r,z:0*e+.0280726930490874*n+1.0609850577107909*r};return t.alpha!==void 0&&(o.alpha=t.alpha),o},pi={...Ee,mode:"rec2020",fromMode:{xyz65:Hn,rgb:t=>Hn(ye(t))},toMode:{xyz65:An,rgb:t=>ve(An(t))},parse:["rec2020"],serialize:"rec2020"},xe=.0037930732552754493,$o=Math.cbrt(xe),qt=t=>Math.cbrt(t)-$o,gi=t=>{const{r:e,g:n,b:r,alpha:o}=Se(t),i=qt(.3*e+.622*n+.078*r+xe),s=qt(.23*e+.692*n+.078*r+xe),a=qt(.2434226892454782*e+.2047674442449682*n+.5518098665095535*r+xe),l={mode:"xyb",x:(i-s)/2,y:(i+s)/2,b:a-(i+s)/2};return o!==void 0&&(l.alpha=o),l},Dt=t=>Math.pow(t+$o,3),bi=({x:t,y:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const o=Dt(t+e)-xe,i=Dt(e-t)-xe,s=Dt(n+e)-xe,a=Re({r:11.031566904639861*o-9.866943908131562*i-.16462299650829934*s,g:-3.2541473810744237*o+4.418770377582723*i-.16462299650829934*s,b:-3.6588512867136815*o+2.7129230459360922*i+1.9459282407775895*s});return r!==void 0&&(a.alpha=r),a},mi={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:bi},fromMode:{rgb:gi},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:g,y:g,b:g,alpha:{use:g,fixup:I}}},xi={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Xe,lab:an},fromMode:{rgb:Be,lab:sn},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:g,y:g,z:g,alpha:{use:g,fixup:I}}},Mi=t=>{let{x:e,y:n,z:r,alpha:o}=t;e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz50",x:1.0479298208405488*e+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*e+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*e+.0150551448965779*n+.7518742899580008*r};return o!==void 0&&(i.alpha=o),i},yi=t=>{let{x:e,y:n,z:r,alpha:o}=t;e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz65",x:.9554734527042182*e-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*e+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*e-.0205076964334779*n+1.3303659366080753*r};return o!==void 0&&(i.alpha=o),i},vi={mode:"xyz65",toMode:{rgb:ve,xyz50:Mi},fromMode:{rgb:ye,xyz50:yi},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:g,y:g,z:g,alpha:{use:g,fixup:I}}},wi=({r:t,g:e,b:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const o={mode:"yiq",y:.29889531*t+.58662247*e+.11448223*n,i:.59597799*t-.2741761*e-.32180189*n,q:.21147017*t-.52261711*e+.31114694*n};return r!==void 0&&(o.alpha=r),o},$i=({y:t,i:e,q:n,alpha:r})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const o={mode:"rgb",r:t+.95608445*e+.6208885*n,g:t-.27137664*e-.6486059*n,b:t-1.10561724*e+1.70250126*n};return r!==void 0&&(o.alpha=r),o},ki={mode:"yiq",toMode:{rgb:$i},fromMode:{rgb:wi},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:g,i:g,q:g,alpha:{use:g,fixup:I}}},Pi=t=>Math.max(0,Math.min(1,t||0)),Xt=t=>Math.round(Pi(t)*255),_i=Me("rgb"),zi=t=>{if(t===void 0)return;let e=Xt(t.r),n=Xt(t.g),r=Xt(t.b);return"#"+(1<<24|e<<16|n<<8|r).toString(16).slice(1)},$e=t=>zi(_i(t)),Ci=t=>{t[0]===void 0&&(t[0]=0),t[t.length-1]===void 0&&(t[t.length-1]=1);let e=1,n,r,o,i;for(;e<t.length;){if(t[e]===void 0){for(r=e,o=t[e-1],n=e;t[n]===void 0;)n++;for(i=(t[n]-o)/(n-e+1);e<n;)t[e]=o+(e+1-r)*i,e++}else t[e]<t[e-1]&&(t[e]=t[e-1]);e++}return t},Ti=(t=.5)=>e=>t<=0?1:t>=1?0:Math.pow(e,Math.log(.5)/Math.log(t)),Je=t=>typeof t=="function",ge=t=>t&&typeof t=="object",qn=t=>typeof t=="number",Ei=(t,e="rgb",n,r)=>{let o=Jn(e),i=Me(e),s=[],a=[],l={};t.forEach(b=>{Array.isArray(b)?(s.push(i(b[0])),a.push(b[1])):qn(b)||Je(b)?l[a.length]=b:(s.push(i(b)),a.push(void 0))}),Ci(a);let c=o.channels.reduce((b,p)=>{let M;return ge(n)&&ge(n[p])&&n[p].fixup?M=n[p].fixup:ge(o.interpolate[p])&&o.interpolate[p].fixup?M=o.interpolate[p].fixup:M=v=>v,b[p]=M(s.map(v=>v[p])),b},{}),u=o.channels.reduce((b,p)=>{let M;return Je(n)?M=n:ge(n)&&Je(n[p])?M=n[p]:ge(n)&&ge(n[p])&&n[p].use?M=n[p].use:Je(o.interpolate[p])?M=o.interpolate[p]:ge(o.interpolate[p])&&(M=o.interpolate[p].use),b[p]=M(c[p]),b},{}),m=s.length-1;return b=>{if(b=Math.min(Math.max(0,b),1),b<=a[0])return s[0];if(b>a[m])return s[m];let p=0;for(;a[p]<b;)p++;let M=a[p-1],v=a[p]-M,w=(b-M)/v,x=l[p]||l[0];x!==void 0&&(qn(x)&&(x=Ti((x-M)/v)),w=x(w));let P=(p-1+w)/m;return o.channels.reduce((z,C)=>{let T=u[C](P);return T!==void 0&&(z[C]=T),z},{mode:e})}},Si=(t,e="rgb",n)=>Ei(t,e,n);function Dn(t){let e=Me("lrgb")(t);return .2126*e.r+.7152*e.g+.0722*e.b}function te(t,e){let n=Dn(t),r=Dn(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}_(fr);_(xr);_(Mr);_(yr);_($r);_(ro);_(ao);_(Ir);_(Lr);_(jr);_(Ar);_(ln);_(Dr);_(dn);_(Br);_(Qr);_(ei);_(ti);_(ri);_(ii);_(ai);_(di);_(fi);_(ci);_(pi);_(Ee);_(mi);_(xi);_(vi);_(ki);class Pe{constructor(e){this.key=e,this.type=Symbol.for("ColorReference")}}class _e{constructor(e,n,r){this.fn=e,this.args=n,this.dependencies=r,this.type=Symbol.for("ColorFunction")}execute(e){const n=this.args.map(r=>typeof r=="string"&&e.has(r)?e.resolve(r):r);return this.fn(...n)}}class O extends Error{constructor(e){super(e),this.name="PaletteError"}}class ke extends Error{constructor(e){super(`Circular dependency detected: ${e.join(" -> ")}`),this.path=e,this.name="CircularDependencyError"}}var H,ne,Y,Q,K,ae,be,le,oe,Ce,S,$,Jt,ko,je,Gt,Po,_o,zo,Co,To,Ut,Eo,Qt,So;class Ri{constructor(e={}){E(this,$);E(this,H,new Map);E(this,ne,new Map);E(this,Y,new Map);E(this,Q,new Map);E(this,K,new Map);E(this,ae,"auto");E(this,be,new Set);E(this,le,new EventTarget);E(this,oe,new Map);E(this,Ce);E(this,S);U(this,ae,e.mode||"auto"),k(this,$,So).call(this)}registerFunction(e,n){if(this[e]||e==="ref"||e==="func")throw new O(`Function name "${e}" is reserved.`);d(this,oe).set(e,n),d(this,S)&&d(this,S).call(this,`Registered function '${e}'.`)}func(e,...n){if(!d(this,oe).has(e))throw new O(`Custom function "${e}" is not registered.`);const r=d(this,oe).get(e),o=n.filter(i=>typeof i=="string"&&i.includes("."));return new _e(r,n,o)}createPalette(e,n={}){const{extends:r,overrides:o={}}=n;if(d(this,H).has(e))throw new O(`Palette "${e}" already exists.`);if(r&&!d(this,H).has(r))throw new O(`Base palette "${r}" does not exist.`);if(d(this,H).set(e,{extends:r,overrides:o}),d(this,S)&&d(this,S).call(this,`Palette '${e}' created${r?` extending '${r}'`:""}.`),r&&Object.keys(o).length>0)for(const[i,s]of Object.entries(o))this.define(`${e}.${i}`,s)}extendPalette(e,n,r={}){return this.createPalette(e,{extends:n,overrides:r})}copyPalette(e,n){if(!d(this,H).has(e))throw new O(`Source palette "${e}" does not exist.`);if(d(this,H).has(n))throw new O(`Target palette "${n}" already exists.`);const r=this.getAllKeysForPalette(e);this.createPalette(n);for(const o of r){const i=o.split(".").slice(1).join("."),s=this.getDefinitionForKey(o);this.define(`${n}.${i}`,s)}d(this,S)&&d(this,S).call(this,`Copied palette '${e}' to '${n}'.`)}deletePalette(e){if(!d(this,H).has(e))throw new O(`Palette "${e}" does not exist.`);const n=this.getAllKeysForPalette(e);for(const r of n)d(this,ne).delete(r),d(this,Y).delete(r),d(this,Q).delete(r),d(this,K).delete(r);d(this,H).delete(e),d(this,S)&&d(this,S).call(this,`Deleted palette '${e}'.`)}define(e,n){const[r]=e.split(".");if(!d(this,H).has(r))throw new O(`Palette "${r}" does not exist. Create it first.`);k(this,$,Jt).call(this,e,n)}set(e,n){if(!this.has(e))throw new O(`Color "${e}" is not defined. Use .define() first.`);k(this,$,Jt).call(this,e,n)}flush(){if(d(this,ae)!=="batch")return;const e=k(this,$,To).call(this,Array.from(d(this,be))),n=[];for(const r of e){const o=d(this,Y).get(r);k(this,$,je).call(this,r);const i=d(this,Y).get(r);o!==i&&(n.push({key:r,oldValue:o,newValue:i}),k(this,$,Qt).call(this,r,i,o))}n.length>0&&(d(this,le).dispatchEvent(new CustomEvent("change",{detail:n})),d(this,le).dispatchEvent(new CustomEvent("batch-complete",{detail:n})),d(this,S)&&d(this,S).call(this,`Flush complete. ${n.length} colors updated.`)),d(this,be).clear()}resolve(e){if(!d(this,Y).has(e))try{k(this,$,je).call(this,e)}catch(n){return d(this,S)&&d(this,S).call(this,`Failed to resolve '${e}': ${n.message}`),"invalid"}return d(this,Y).get(e)}has(e){let[n,r]=e.split(".");const o=new Set;for(;n;){if(o.has(n))throw new ke([...o,n]);if(o.add(n),d(this,ne).has(`${n}.${r}`))return!0;const i=d(this,H).get(n);if(!i||!i.extends)break;n=i.extends}return!1}on(e,n){d(this,le).addEventListener(e,n)}watch(e,n){this.on(`watch:${e}`,r=>{const o=r;n(o.detail.newValue,o.detail.oldValue)})}ref(e){return new Pe(e)}getAllPalettes(){return Array.from(d(this,H).entries()).map(([e,n])=>({name:e,config:n}))}getAllKeysForPalette(e){return k(this,$,Po).call(this,e)}valueToString(e){return k(this,$,Ut).call(this,e)}getRawValue(e){var n;if(e instanceof Pe)return`ref('${e.key}')`;if(e instanceof _e){const r=((n=[...d(this,oe).entries()].find(([i,s])=>s===e.fn))==null?void 0:n[0])||e.fn.name.replace("bound ",""),o=e.args.map(i=>typeof i=="string"?`'${i}'`:i).join(", ");return`${r}(${o})`}return e}get mode(){return d(this,ae)}set mode(e){U(this,ae,e)}get batchQueueSize(){return d(this,be).size}getDependencies(e){return Array.from(d(this,K).get(e)||[])}getDependents(e){return Array.from(d(this,Q).get(e)||[])}getConnectionGraph(){const e={};for(const[n,r]of d(this,K).entries())e[n]=Array.from(r);return e}getDefinitionForKey(e){try{return k(this,$,Gt).call(this,e)}catch(n){throw new O(`Failed to get definition for key '${e}': ${n.message}`)}}getCustomFunctions(){return new Map(d(this,oe))}getPaletteDependencies(e){const n=this.getAllKeysForPalette(e),r=new Set;for(const o of n){const i=this.getDependencies(o);for(const s of i)s.startsWith(`${e}.`)||r.add(s)}return Array.from(r)}resolvePalette(e){const n=this.getAllKeysForPalette(e),r={};for(const o of n){const i=o.split(".").slice(1).join(".");r[i]=this.resolve(o)}return r}createRenderer(e){if(!d(this,Ce))throw new Error("ColorRenderer class not injected. Please call setColorRenderer() first.");return new(d(this,Ce))(this,e)}setColorRenderer(e){U(this,Ce,e)}setLogCallback(e){U(this,S,e)}}H=new WeakMap,ne=new WeakMap,Y=new WeakMap,Q=new WeakMap,K=new WeakMap,ae=new WeakMap,be=new WeakMap,le=new WeakMap,oe=new WeakMap,Ce=new WeakMap,S=new WeakMap,$=new WeakSet,Jt=function(e,n){if(typeof n=="string"&&!V(n))throw new O(`Invalid color value: "${n}". Must be a valid CSS color or a router function.`);d(this,ne).set(e,n),k(this,$,_o).call(this,e,n),d(this,ae)==="auto"?k(this,$,ko).call(this,e):d(this,be).add(e),d(this,S)&&d(this,S).call(this,`Defined '${e}' = ${k(this,$,Ut).call(this,n)}`)},ko=function(e){const n=k(this,$,Co).call(this,e),r=[];for(const o of n){const i=d(this,Y).get(o);k(this,$,je).call(this,o);const s=d(this,Y).get(o);i!==s&&(r.push({key:o,oldValue:i,newValue:s}),k(this,$,Qt).call(this,o,s,i))}r.length>0&&d(this,le).dispatchEvent(new CustomEvent("change",{detail:r}))},je=function(e,n=[]){if(n.includes(e))throw new ke([...n,e]);const r=k(this,$,Gt).call(this,e);let o;return r instanceof Pe?o=k(this,$,je).call(this,r.key,[...n,e]):r instanceof _e?o=r.execute(this):o=k(this,$,Eo).call(this,r),d(this,Y).set(e,o),o},Gt=function(e){let[n,r]=e.split(".");const o=new Set;for(;n;){if(o.has(n))throw new ke([...o,n]);o.add(n);const i=`${n}.${r}`;if(d(this,ne).has(i))return d(this,ne).get(i);const s=d(this,H).get(n);if(!s||!s.extends)break;n=s.extends}throw new O(`Color '${e}' not found in palette hierarchy.`)},Po=function(e){const n=new Set;let r=e;const o=[],i=new Set;for(;r&&!i.has(r);){i.add(r),o.unshift(r);const s=d(this,H).get(r);r=s==null?void 0:s.extends}if(r&&i.has(r))throw new ke([...i,r]);for(const s of o){const a=`${s}.`;for(const l of d(this,ne).keys())l.startsWith(a)&&n.add(l.split(".").slice(1).join("."))}return Array.from(n).map(s=>`${e}.${s}`)},_o=function(e,n){var o;if(d(this,K).has(e))for(const i of d(this,K).get(e))(o=d(this,Q).get(i))==null||o.delete(e);d(this,K).set(e,new Set);const r=k(this,$,zo).call(this,n);for(const i of r)d(this,Q).has(i)||d(this,Q).set(i,new Set),d(this,Q).get(i).add(e),d(this,K).get(e).add(i)},zo=function(e){return e instanceof Pe?[e.key]:e instanceof _e?e.dependencies:[]},Co=function(e){const n=new Set,r=[],o=this;function i(s){n.has(s)||(n.add(s),(d(o,Q).get(s)||[]).forEach(i),r.push(s))}return i(e),r.reverse()},To=function(e){const n=[],r=new Set,o=new Set,i=this,s=a=>{if(r.has(a))return;if(o.has(a))throw new ke([...o,a]);o.add(a);const l=d(i,K).get(a);if(l)for(const c of l)e.includes(c)&&s(c);o.delete(a),r.add(a),n.push(a)};for(const a of e)if(!r.has(a))try{s(a)}catch(l){if(l instanceof ke)d(this,S)&&d(this,S).call(this,`Circular dependency detected for '${a}': ${l.message}`),r.has(a)||(r.add(a),n.push(a));else throw l}return n},Ut=function(e){var n;if(e instanceof Pe)return`ref('${e.key}')`;if(e instanceof _e){const r=((n=[...d(this,oe).entries()].find(([i,s])=>s===e.fn))==null?void 0:n[0])||e.fn.name.replace("bound ",""),o=e.args.map(i=>typeof i=="string"?`'${i}'`:i).join(", ");return`${r}(${o})`}return`'${e}'`},Eo=function(e){const n=V(e);return n?$e(n):"#00000000"},Qt=function(e,n,r){d(this,le).dispatchEvent(new CustomEvent(`watch:${e}`,{detail:{newValue:n,oldValue:r}}))},So=function(){this.registerFunction("bestContrastWith",(e,n)=>{if(!V(e))return"#000000";if(!n)return te("#fff",e)>=te("#000",e)?"#ffffff":"#000000";if(!d(this,H).has(n))return console.warn(`Palette "${n}" not found, falling back to black/white`),te("#fff",e)>=te("#000",e)?"#ffffff":"#000000";const r=this.getAllKeysForPalette(n);if(r.length===0)return console.warn(`Palette "${n}" has no colors, falling back to black/white`),te("#fff",e)>=te("#000",e)?"#ffffff":"#000000";let o=null,i=0;for(const s of r)try{const a=this.resolve(s);if(a&&a!=="invalid"){const l=te(a,e);l>i&&(i=l,o=a)}}catch{continue}if(o)return o;for(const s of r)try{const a=this.resolve(s);if(a&&a!=="invalid")return a}catch{continue}return"#000000"}),this.registerFunction("colorMix",(e,n,r=.5,o="lab")=>{try{const i=V(e),s=V(n);if(!i||!s)return e;const a=Si([i,s],o),l=typeof r=="string"?parseFloat(r)/100:r;return $e(a(l))}catch{return e}}),this.registerFunction("relativeTo",(e,n)=>{try{const r=V(e);if(!r)return e;if(n.includes("/ 0.8")){const o={...r,alpha:.8};return $e(o)}return $e(r)}catch{return e}}),this.registerFunction("minContrastWith",(e,n=1.5)=>{if(!V(e))return"#000000";const r=te("#fff",e),o=te("#000",e);return r>=n?"#ffffff":o>=n?"#000000":r>=o?"#ffffff":"#000000"}),this.registerFunction("lighten",(e,n)=>{try{const r=V(e);if(!r)return e;const i=Me("hsl")(r);return i&&typeof i.l=="number"?(i.l=Math.min(1,i.l+n),$e(i)):e}catch{return e}}),this.registerFunction("darken",(e,n)=>{try{const r=V(e);if(!r)return e;const i=Me("hsl")(r);return i&&typeof i.l=="number"?(i.l=Math.max(0,i.l-n),$e(i)):e}catch{return e}})};var j,F,me,W,en,Io,tn,Lo;class Ro{constructor(e,n="css-variables"){E(this,W);E(this,j);E(this,F);E(this,me,new Map);U(this,j,e),U(this,F,n==="css"?"css-variables":n),k(this,W,en).call(this)}registerFunctionRenderer(e,n){d(this,me).has(d(this,F))||d(this,me).set(d(this,F),new Map),d(this,me).get(d(this,F)).set(e,n)}render(){const e=new Set;d(this,j).getAllPalettes().forEach(({name:o})=>{d(this,j).getAllKeysForPalette(o).forEach(i=>e.add(i))});const n=Array.from(e).sort();if(d(this,F)==="json"){const o={};for(const i of n)o[i]=d(this,j).resolve(i);return JSON.stringify(o,null,2)}let r="";for(const o of n){const i=d(this,j).getDefinitionForKey(o),s=k(this,W,Io).call(this,i,o);d(this,F)==="css-variables"?r+=`  --${o.replace(/\./g,"-")}: ${s};
`:d(this,F)==="scss"&&(r+=`$${o.replace(/\./g,"-")}: ${s};
`)}return d(this,F)==="css-variables"?`:root {
${r}}`:r}get format(){return d(this,F)}set format(e){U(this,F,e==="css"?"css-variables":e),k(this,W,en).call(this)}}j=new WeakMap,F=new WeakMap,me=new WeakMap,W=new WeakSet,en=function(){this.registerFunctionRenderer("colorMix",e=>{const[n,r,o=.5,i="lab"]=e,a=100-(typeof o=="string"&&o.includes("%")?parseFloat(o):parseFloat(o)*100);return`color-mix(in ${i}, ${n} ${a}%, ${r})`}),this.registerFunctionRenderer("lighten",e=>{const[n,r]=e,o=Math.round(parseFloat(r)*100);return`color-mix(in oklch, ${n} ${100-o}%, white)`}),this.registerFunctionRenderer("darken",e=>{const[n,r]=e,o=Math.round(parseFloat(r)*100);return`color-mix(in oklch, ${n} ${100-o}%, black)`}),d(this,F)==="scss"&&(this.registerFunctionRenderer("lighten",e=>{const[n,r]=e,o=Math.round(parseFloat(r)*100);return`lighten(${n}, ${o}%)`}),this.registerFunctionRenderer("darken",e=>{const[n,r]=e,o=Math.round(parseFloat(r)*100);return`darken(${n}, ${o}%)`}),this.registerFunctionRenderer("colorMix",e=>{const[n,r,o=.5]=e,i=typeof o=="string"&&o.includes("%")?parseFloat(o):parseFloat(o)*100;return`mix(${r}, ${n}, ${i}%)`}))},Io=function(e,n){return e instanceof Pe?k(this,W,tn).call(this,e.key):e instanceof _e?k(this,W,Lo).call(this,e,n):d(this,j).resolve(n)},tn=function(e){return d(this,F)==="scss"?`$${e.replace(/\./g,"-")}`:d(this,F)==="css-variables"?`var(--${e.replace(/\./g,"-")})`:d(this,j).resolve(e)},Lo=function(e,n){var s;const r=d(this,me).get(d(this,F));if(!r)return d(this,j).resolve(n);const o=((s=[...d(this,j).getCustomFunctions().entries()].find(([a,l])=>l===e.fn))==null?void 0:s[0])||"unknown",i=r.get(o);if(!i)return d(this,j).resolve(n);try{const a=e.args.map(l=>typeof l=="string"&&l.includes(".")&&d(this,j).has(l)?k(this,W,tn).call(this,l):l);return i(a)}catch(a){return console.warn(`Failed to render function ${o}:`,a),d(this,j).resolve(n)}};const Ii=t=>Math.sqrt(Math.pow(t.w,2)+Math.pow(t.h,2)),Li=(t,e={})=>{const{gap:n=0,useMaxDiagonal:r=!0,padding:o=.2}=e;let i=[...t];const s=Math.max(...i.map(x=>x.h)),a=Math.max(...i.map(x=>x.w)),l=Math.max(s,a);let c=0;i=i.map(x=>{const{w:P,h:z}=x,C=Math.max(P,z),T=Ii(r?{w:C,h:C}:x);return c+=T,x.diagonal=T,x.diagonalHalf=T/2,x});const u=n*(i.length-1),m=c+u,b=Math.max(m/Math.PI,l+n*2),p=b+a+n*2,M=b+s+n*2,v={w:p+p*o,h:M+M*o,r:b/2,centerX:0,centerY:0};v.centerX=v.w/2,v.centerY=v.h/2;const w=[];return i.reduce((x,P)=>{const z=P.diagonalHalf,C=(x+z)/(m-u);return w.push(C),x+P.diagonal},0),i=i.map((x,P)=>{x.angle=360*w[P]%360,x.angleRadians=x.angle*(Math.PI/180),x.cx=v.centerX+b/2*Math.cos(x.angleRadians),x.cy=v.centerY+b/2*Math.sin(x.angleRadians);const z=x.cy-x.h/2,C=x.cy+x.h/2,T=x.cx-x.w/2,q=x.cx+x.w/2;return x.top=z,x.left=T,x.bottom=C,x.right=q,x}),{tableItems:i,tableBoundingRect:v}},Fi=(t,e,n={})=>{const{widthPerLetter:r=7,fontSize:o=10,lineHeight:i=1.5,itemPadding:s=[10,5]}=n,a=[t,...Object.keys(e)],l=Math.max(...a.map(p=>p.length)),c=o*i+s[1]*2,u=l*r+s[0]*2,m=a.length*c,b={};return a.forEach((p,M)=>{const v=M*c,w=v+c/2+o/2-1;b[p]={rectTop:v,textTop:w,height:c}}),{w:u,h:m,title:t,colors:e,topPositions:b}};var Z,De,A,nn,No,Ho,jo,Ao,qo;class Fo extends Ro{constructor(n,r={}){super(n,"json");E(this,A);E(this,Z);E(this,De);U(this,De,n),U(this,Z,{gap:20,useMaxDiagonal:!0,padding:.2,widthPerLetter:7,fontSize:10,lineHeight:1.5,itemPadding:[10,5],showConnections:!0,strokeWidth:2,dotRadius:5,...r})}get router(){return d(this,De)}render(){const n=this.router,r=n.getAllPalettes();if(r.length===0)return k(this,A,nn).call(this,200,100,'<text x="100" y="50" text-anchor="middle" font-family="monospace">No palettes defined</text>');const o=r.map(({name:p})=>{const M=n.getAllKeysForPalette(p),v={};return M.forEach(w=>{const x=w.split(".").slice(1).join(".");v[x]=n.resolve(w)}),Fi(p,v,d(this,Z))}),i=Li(o,d(this,Z)),s=k(this,A,Ho).call(this,i.tableItems,i.tableBoundingRect),a=k(this,A,jo).call(this,n,s),l=k(this,A,Ao).call(this,a),c=k(this,A,qo).call(this,s),u=i.tableItems.map(p=>k(this,A,No).call(this,p,p.left,p.top)).join(""),b=`
      <style>
        .palette-table {
          fill: white;
          stroke: black;
          stroke-width: 1;
        }
        .palette-table__row {
          fill: none;
          stroke: black;
          stroke-width: 1;
        }
        .palette-table__row--header {
          fill: black;
        }
        text {
          font-family: monospace;
        }
        .palette-table__label {
          fill: black;
        }
        .palette-table__label--header {
          font-weight: bold;
          fill: white;
        }
        .connections-bg {
          opacity: 0.8;
        }
        .connections {
          opacity: 0.9;
        }
        .dots {
          cursor: pointer;
        }
        .dots circle:hover {
          stroke-width: 2;
          r: ${(d(this,Z).dotRadius||5)+1};
        }
      </style>
    `+l+`<g class="tables">${u}</g>`+c;return k(this,A,nn).call(this,i.tableBoundingRect.w,i.tableBoundingRect.h,b)}}Z=new WeakMap,De=new WeakMap,A=new WeakSet,nn=function(n,r,o){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${n} ${r}">${o}</svg>`},No=function(n,r,o){if(!n.title||!n.colors||!n.topPositions)return"";const{w:i,h:s,title:a,colors:l,topPositions:c}=n,{fontSize:u,itemPadding:m=[10,5]}=d(this,Z),p=[a,...Object.keys(l)].map(M=>{const v=M===a,{rectTop:w,textTop:x,height:P}=c[M],z=v?"":l[M],C=`<rect class="palette-table__row ${v?"palette-table__row--header":""}" width="${i}" height="${P}" y="${w}" 
        ${z?`data-color="${z}"`:""} />`,T=`<text class="palette-table__label ${v?"palette-table__label--header":""}" x="${m[0]}" y="${x}" font-size="${u}"
        ${z?`data-color="${z}"`:""}>${M}</text>`;return C+T}).join("");return`<g transform="translate(${r}, ${o})">
      <rect class="palette-table" width="${i}" height="${s}" />
      ${p}
    </g>`},Ho=function(n,r){const o={};return n.forEach(i=>{!i.title||!i.colors||!i.topPositions||Object.keys(i.colors).forEach(s=>{const a=`${i.title}.${s}`,l=i.topPositions[s],c=i.left<r.centerX,u=c?i.left+i.w:i.left,m=l.rectTop+l.height/2+i.top;o[a]={key:a,x:u,y:m,isLeft:c,color:i.colors[s]||"#000000",colorName:s}})}),o},jo=function(n,r){const o=[],i=new Set;return Object.keys(r).forEach(s=>{const a=n.getDependencies(s),l=r[s];l&&a.forEach(c=>{const u=r[c];if(u){const m=`${s}->${c}`,b=`${c}->${s}`;!i.has(m)&&!i.has(b)&&(o.push({from:l,to:u}),i.add(m))}})}),o},Ao=function(n){if(!d(this,Z).showConnections||n.length===0)return"";const{strokeWidth:r=2}=d(this,Z),o=n.map(s=>{const{from:a,to:l}=s,u=40+Math.abs(a.y-l.y)*.3;return`<path d="${`M ${a.x} ${a.y} C ${a.x+(a.isLeft?u:-u)} ${a.y}, ${l.x+(l.isLeft?u:-u)} ${l.y}, ${l.x} ${l.y}`}" stroke="#000" stroke-width="${r+1.5}" fill="none" />`}).join(""),i=n.map(s=>{const{from:a,to:l}=s,u=40+Math.abs(a.y-l.y)*.3;return`<path d="${`M ${a.x} ${a.y} C ${a.x+(a.isLeft?u:-u)} ${a.y}, ${l.x+(l.isLeft?u:-u)} ${l.y}, ${l.x} ${l.y}`}" stroke="${a.color}" stroke-width="${r}" fill="none" data-color="${a.color}" />`}).join("");return`
      <g class="connections-bg">${o}</g>
      <g class="connections">${i}</g>
    `},qo=function(n){const{dotRadius:r=5}=d(this,Z);return`<g class="dots">${Object.values(n).map(i=>`<circle cx="${i.x}" cy="${i.y}" r="${r}" 
        fill="${i.color}" stroke="black" stroke-width="1" 
        data-color="${i.color}" data-key="${i.key}" />`).join("")}</g>`};const h=new Ri;h.setColorRenderer(Ro);function J(t){const e=document.getElementById("event-log-container");e&&(e.innerHTML=`<p><span class="text-gray-400">${new Date().toLocaleTimeString()}</span> &mdash; ${t}</p>`+e.innerHTML)}h.setLogCallback(J);function un(){const t=document.getElementById("palettes-container");t&&(t.innerHTML="",h.getAllPalettes().forEach(({name:e,config:n})=>{const r=document.createElement("div");r.className="bg-white p-6 shadow-sm border border-gray-200 fade-in";let o=`<h3 class="text-xl text-gray-800">${e}</h3>`;n.extends&&(o+=`<p class="text-sm text-gray-500">extends <span class="font-medium text-indigo-600">${n.extends}</span></p>`);const i=h.getAllKeysForPalette(e);let s='<div class="mt-4 space-y-3">';i.length>0?i.sort().forEach(a=>{const l=a.split(".").slice(1).join("."),c=h.getDefinitionForKey(a),u=h.resolve(a)||"#transparent";s+=`
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center gap-3">
              <div class="color-swatch" style="background-color: ${u};"></div>
              <div>
                <p class="font-semibold text-gray-900">${l}</p>
                <p class="font-mono text-xs text-gray-500">${h.valueToString(c)}</p>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <p class="font-mono text-gray-700">${u}</p>
              <button class="edit-color-btn text-indigo-600 hover:text-indigo-800 text-xs" data-key="${a}" title="Edit this color">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                </svg>
              </button>
            </div>
          </div>`}):s+='<p class="text-sm text-gray-500">No colors defined yet.</p>',r.innerHTML=o+s+"</div>",t.appendChild(r)}))}function pt(){const t=document.querySelector(".tab-button.active"),e=(t==null?void 0:t.dataset.tab)||"css-variables",n=document.getElementById("output-container");if(n)try{if(e==="svg"){const o=new Fo(h,{showConnections:!0,gap:20,padding:.1,fontSize:10,strokeWidth:2,dotRadius:4}).render();n.innerHTML=`
        <div class="bg-white p-4 h-96 overflow-auto flex items-center justify-center svg-container">
          ${o}
        </div>
      `}else{document.getElementById("output-code")||(n.innerHTML=`
          <div class="bg-gray-900 p-4 h-96 overflow-auto">
            <pre><code id="output-code" class="language-${e} text-sm text-gray-200 font-mono"></code></pre>
          </div>
        `);const o=h.createRenderer(e),i=document.getElementById("output-code");i.textContent=o.render(),i.className=`language-${e} text-sm text-gray-200 font-mono`}}catch(r){const o=document.getElementById("output-code");o?o.textContent=`Error rendering output:
${r.message}`:n.innerHTML=`
        <div class="bg-gray-900 p-4 h-96 overflow-auto">
          <pre class="text-red-400 text-sm">Error rendering output:
${r.message}</pre>
        </div>
      `}}function gt(){const t=document.getElementById("color-demo-container");if(t)try{const n=h.createRenderer("css-variables").render();let r=document.getElementById("demo-styles");r||(r=document.createElement("style"),r.id="demo-styles",document.head.appendChild(r)),r.textContent=n,t.innerHTML=`
      <!-- Card Palette Demo -->
      <div class="p-6 rounded-lg border shadow-sm mb-8" style="background-color: var(--card-background, #ffffff); border-color: var(--card-interaction, #0066cc); color: var(--card-onBackground, #0f172a);">
        <h3 class="text-xl font-medium mb-3">Simplified Card Component</h3>
        <p class="text-sm mb-4 opacity-75">This card uses only 4 essential colors: background, onBackground, interaction, and onInteraction.</p>
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="px-4 py-2 text-sm font-medium rounded transition-colors" style="background-color: var(--card-interaction, #0066cc); color: var(--card-onInteraction, #ffffff);">Primary Action</button>
          <button class="px-3 py-2 text-sm font-medium rounded border transition-colors" style="border-color: var(--card-interaction, #0066cc); color: var(--card-interaction, #0066cc); background-color: transparent;">Secondary</button>
        </div>
        <div class="text-xs space-y-1 opacity-75">
          <p><strong>Color System:</strong></p>
          <p> Background: <code>ref('scale.0')</code>  <code>var(--card-background)</code></p>
          <p> On Background: <code>bestContrastWith('card.background', 'scale')</code>  <code>var(--card-onBackground)</code></p>
          <p> Interaction: <code>ref('bold-colors.0')</code>  <code>var(--card-interaction)</code></p>
          <p> On Interaction: <code>bestContrastWith('bold-colors.0', 'scale')</code>  <code>var(--card-onInteraction)</code></p>
        </div>
      </div>
    `}catch(e){t.innerHTML=`<p class="text-red-500 text-sm">Error rendering demo: ${e.message}</p>`}}function Ie(){var e;const t=document.getElementById("svg-visualization-container");if(t)try{const n=((e=document.getElementById("show-connections"))==null?void 0:e.checked)??!0,o=new Fo(h,{showConnections:n,gap:25,padding:.15,fontSize:12,strokeWidth:2,dotRadius:5,lineHeight:1.4,widthPerLetter:8}).render();t.innerHTML=`
      <div class="svg-container w-full h-full flex items-center justify-center">
        ${o}
      </div>
    `}catch(n){t.innerHTML=`
      <div class="text-center text-red-500">
        <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p class="text-lg font-medium">Error rendering visualization</p>
        <p class="text-sm">${n.message}</p>
      </div>
    `}}var Xn;(Xn=document.getElementById("create-palette"))==null||Xn.addEventListener("click",()=>{const t=document.getElementById("palette-name");if(t!=null&&t.value)try{h.createPalette(t.value),t.value="",un(),pt(),gt(),Ie()}catch(e){J(`<span class="text-red-500">ERROR:</span> ${e.message}`)}});var Bn;(Bn=document.getElementById("define-color"))==null||Bn.addEventListener("click",()=>{const t=document.getElementById("color-key"),e=document.getElementById("color-value");if(!(!(t!=null&&t.value)||!(e!=null&&e.value)))try{let n=e.value.trim();const r=n.match(/ref\(['"](.*?)['"]\)/),o=n.match(/bestContrastWith\(['"](.*?)['"](?:,\s*['"](.*?)['"]\))?\)/),i=n.match(/colorMix\(['"](.*?)['"],\s*['"](.*?)['"](?:,\s*(['"]*[\d.%]+['"]*))?\s*(?:,\s*['"](.*?)['"]\))?\)/),s=n.match(/relativeTo\(['"](.*?)['"],\s*['"](.*?)['"]\)/),a=n.match(/minContrastWith\(['"](.*?)['"](?:,\s*([\d.]+))?\)/),l=n.match(/lighten\(['"](.*?)['"],\s*([\d.]+)\)/),c=n.match(/darken\(['"](.*?)['"],\s*([\d.]+)\)/),u=n.match(/func\(['"](.*?)['"](?:,\s*(.*))?\)/);if(r)n=h.ref(r[1]);else if(o){const m=[o[1]];o[2]&&m.push(o[2]),n=h.func("bestContrastWith",...m)}else if(i){const m=i[1],b=i[2];let p=i[3]||"0.5";const M=i[4]||"lab";p=p.replace(/['"]/g,""),p.includes("%")&&(p=(parseFloat(p)/100).toString()),n=h.func("colorMix",m,b,parseFloat(p),M)}else if(s)n=h.func("relativeTo",s[1],s[2]);else if(a){const m=a[2]?parseFloat(a[2]):1.5;n=h.func("minContrastWith",a[1],m)}else if(l)n=h.func("lighten",l[1],parseFloat(l[2]));else if(c)n=h.func("darken",c[1],parseFloat(c[2]));else if(u){const m=u[1],b=u[2]?JSON.parse(`[${u[2].replace(/'/g,'"')}]`):[];n=h.func(m,...b)}h.has(t.value)?h.set(t.value,n):h.define(t.value,n),un(),pt(),gt(),Ie()}catch(n){J(`<span class="text-red-500">ERROR:</span> ${n.message}`)}});var On;(On=document.getElementById("clear-form"))==null||On.addEventListener("click",()=>{const t=document.getElementById("color-key"),e=document.getElementById("color-value");t&&(t.value=""),e&&(e.value=""),J("Form cleared")});document.querySelectorAll(".tab-button").forEach(t=>{t.addEventListener("click",e=>{document.querySelectorAll(".tab-button").forEach(n=>n.classList.remove("active")),e.target.classList.add("active"),pt(),gt(),Ie()})});var Vn;(Vn=document.getElementById("show-connections"))==null||Vn.addEventListener("change",()=>{Ie()});var Wn;(Wn=document.getElementById("refresh-viz"))==null||Wn.addEventListener("click",()=>{Ie()});document.addEventListener("click",t=>{const n=t.target.closest(".edit-color-btn");if(n){const r=n.dataset.key;r&&Ni(r)}});function Ni(t){var s;const e=h.getDefinitionForKey(t),n=h.getRawValue(e),r=document.getElementById("color-key"),o=document.getElementById("color-value");r&&(r.value=t),o&&(o.value=n);const i=(s=r==null?void 0:r.closest("div"))==null?void 0:s.closest("div");i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.style.border="2px solid #4f46e5",i.style.borderRadius="8px",i.style.padding="1rem",setTimeout(()=>{i.style.border="",i.style.borderRadius="",i.style.padding=""},3e3)),J(`Editing color '${t}' - current value: ${n}`)}h.registerFunction("closestColor",(t,e,n=0)=>{const r=h.getAllKeysForPalette(e);if(!r.length)return"#transparent";const o=V(t);if(!o)return"#transparent";let i="",s=1/0;const a=mr(1,1,1);for(const c of r){const u=h.resolve(c),m=V(u);if(!m)continue;const b=a(o,m);b<s&&b>=n&&(s=b,i=c)}return i?h.resolve(i):""});function Hi(){J("Initializing ColorRouter demo..."),h.createPalette("base"),h.define("base.light","#ffffff"),h.define("base.dark","#202126"),h.define("base.accent","#0066cc"),h.define("base.attention","#ff6600"),h.createPalette("scale"),h.define("scale.0",h.ref("base.accent")),h.define("scale.4",h.ref("base.attention")),h.define("scale.1",h.func("colorMix","scale.0","scale.4",.25,"oklab")),h.define("scale.2",h.func("colorMix","scale.0","scale.4",.5,"oklab")),h.define("scale.3",h.func("colorMix","scale.0","scale.4",.75,"oklab")),h.createPalette("ramp"),h.define("ramp.0",h.ref("base.light")),h.define("ramp.900",h.ref("base.dark")),h.define("ramp.800",h.func("colorMix","base.light","base.dark",.8,"oklab")),h.define("ramp.700",h.func("colorMix","base.light","base.dark",.7,"oklab")),h.define("ramp.600",h.func("colorMix","base.light","base.dark",.6,"oklab")),h.define("ramp.500",h.func("colorMix","base.light","base.dark",.5,"oklab")),h.define("ramp.400",h.func("colorMix","base.light","base.dark",.4,"oklab")),h.define("ramp.300",h.func("colorMix","base.light","base.dark",.3,"oklab")),h.define("ramp.200",h.func("colorMix","base.light","base.dark",.2,"oklab")),h.define("ramp.100",h.func("colorMix","base.light","base.dark",.1,"oklab")),h.createPalette("card"),h.define("card.background",h.ref("ramp.0")),h.define("card.onBackground",h.func("bestContrastWith","card.background","ramp")),h.define("card.interaction",h.ref("scale.0")),h.define("card.onInteraction",h.func("bestContrastWith","card.interaction","ramp")),h.define("card.warning",h.func("closestColor","#ff0000","scale",0)),h.define("card.onWarning",h.func("bestContrastWith","card.warning","ramp")),h.flush(),J(" BASE: Foundation colors (light, dark, accent, attention)"),J(" SCALE: Systematic neutral scale - 900=base.dark, others lighten progressively"),J(" CARD: Essential theming (background/onBackground, interaction/onInteraction, warning/onWarning)"),J("Try changing base.dark to see entire scale update automatically!"),un(),pt(),gt(),Ie()}h.on("change",t=>{t.detail.forEach(n=>{const r=n.oldValue||"undefined";J(`CHANGE: '${n.key}' from ${r} to <span class="font-bold" style="color:${n.newValue}; text-shadow: 0 0 5px rgba(0,0,0,0.5);">${n.newValue}</span>`)})});Hi();
