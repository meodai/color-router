var u0=e=>{throw TypeError(e)};var Ht=(e,t,n)=>t.has(e)||u0("Cannot "+n);var p=(e,t,n)=>(Ht(e,t,"read from private field"),n?n.call(e):t.get(e)),D=(e,t,n)=>t.has(e)?u0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Pe=(e,t,n,r)=>(Ht(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),C=(e,t,n)=>(Ht(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const P0=(e,t)=>{if(typeof e=="number"){if(t===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(t===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(t===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(t===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},z0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},T0=e=>P0(z0[e.toLowerCase()],6),xi=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,E0=e=>{let t;return(t=e.match(xi))?P0(parseInt(t[1],16),t[1].length):void 0},ce="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",Ye=`${ce}%`,Ln=`(?:${ce}%|${ce})`,yi=`(?:${ce}(deg|grad|rad|turn)|${ce})`,Ee="\\s*,\\s*",vi=new RegExp(`^rgba?\\(\\s*${ce}${Ee}${ce}${Ee}${ce}\\s*(?:,\\s*${Ln}\\s*)?\\)$`),wi=new RegExp(`^rgba?\\(\\s*${Ye}${Ee}${Ye}${Ee}${Ye}\\s*(?:,\\s*${Ln}\\s*)?\\)$`),I0=e=>{let t={mode:"rgb"},n;if(n=e.match(vi))n[1]!==void 0&&(t.r=n[1]/255),n[2]!==void 0&&(t.g=n[2]/255),n[3]!==void 0&&(t.b=n[3]/255);else if(n=e.match(wi))n[1]!==void 0&&(t.r=n[1]/100),n[2]!==void 0&&(t.g=n[2]/100),n[3]!==void 0&&(t.b=n[3]/100);else return;return n[4]!==void 0?t.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(t.alpha=Math.max(0,Math.min(1,+n[5]))),t},Z=(e,t)=>e===void 0?void 0:typeof e!="object"?V(e):e.mode!==void 0?e:t?{...e,mode:t}:void 0,k=(e="rgb")=>t=>(t=Z(t,e))!==void 0?t.mode===e?t:te[t.mode][e]?te[t.mode][e](t):e==="rgb"?te[t.mode].rgb(t):te.rgb[e](te[t.mode].rgb(t)):void 0,te={},R0={},Ie=[],Nn={},$i=e=>e,$=e=>(te[e.mode]={...te[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach(t=>{te[t]||(te[t]={}),te[t][e.mode]=e.fromMode[t]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(t=>{if(e.ranges[t]===void 0&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);typeof e.interpolate[t]=="function"&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=$i)}),R0[e.mode]=e,(e.parse||[]).forEach(t=>{L0(t,e.mode)}),k(e.mode)),q=e=>R0[e],L0=(e,t)=>{if(typeof e=="string"){if(!t)throw new Error("'mode' required when 'parser' is a string");Nn[e]=t}else typeof e=="function"&&Ie.indexOf(e)<0&&Ie.push(e)},ki=e=>{if(typeof e=="string")delete Nn[e];else if(typeof e=="function"){const t=Ie.indexOf(e);t>0&&Ie.splice(t,1)}},sn=/[^\x00-\x7F]|[a-zA-Z_]/,_i=/[^\x00-\x7F]|[-\w]/,h={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let x=0;function st(e){let t=e[x],n=e[x+1];return t==="-"||t==="+"?/\d/.test(n)||n==="."&&/\d/.test(e[x+2]):t==="."?/\d/.test(n):/\d/.test(t)}function ln(e){if(x>=e.length)return!1;let t=e[x];if(sn.test(t))return!0;if(t==="-"){if(e.length-x<2)return!1;let n=e[x+1];return!!(n==="-"||sn.test(n))}return!1}const Ci={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function Xe(e){let t="";if((e[x]==="-"||e[x]==="+")&&(t+=e[x++]),t+=lt(e),e[x]==="."&&/\d/.test(e[x+1])&&(t+=e[x++]+lt(e)),(e[x]==="e"||e[x]==="E")&&((e[x+1]==="-"||e[x+1]==="+")&&/\d/.test(e[x+2])?t+=e[x++]+e[x++]+lt(e):/\d/.test(e[x+1])&&(t+=e[x++]+lt(e))),ln(e)){let n=ut(e);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:h.Hue,value:t*Ci[n]}:void 0}return e[x]==="%"?(x++,{type:h.Percentage,value:+t}):{type:h.Number,value:+t}}function lt(e){let t="";for(;/\d/.test(e[x]);)t+=e[x++];return t}function ut(e){let t="";for(;x<e.length&&_i.test(e[x]);)t+=e[x++];return t}function Si(e){let t=ut(e);return e[x]==="("?(x++,{type:h.Function,value:t}):t==="none"?{type:h.None,value:void 0}:{type:h.Ident,value:t}}function Pi(e=""){let t=e.trim(),n=[],r;for(x=0;x<t.length;){if(r=t[x++],r===`
`||r==="	"||r===" "){for(;x<t.length&&(t[x]===`
`||t[x]==="	"||t[x]===" ");)x++;continue}if(r===",")return;if(r===")"){n.push({type:h.ParenClose});continue}if(r==="+"){if(x--,st(t)){n.push(Xe(t));continue}return}if(r==="-"){if(x--,st(t)){n.push(Xe(t));continue}if(ln(t)){n.push({type:h.Ident,value:ut(t)});continue}return}if(r==="."){if(x--,st(t)){n.push(Xe(t));continue}return}if(r==="/"){for(;x<t.length&&(t[x]===`
`||t[x]==="	"||t[x]===" ");)x++;let i;if(st(t)&&(i=Xe(t),i.type!==h.Hue)){n.push({type:h.Alpha,value:i});continue}if(ln(t)&&ut(t)==="none"){n.push({type:h.Alpha,value:{type:h.None,value:void 0}});continue}return}if(/\d/.test(r)){x--,n.push(Xe(t));continue}if(sn.test(r)){x--,n.push(Si(t));continue}return}return n}function zi(e){e._i=0;let t=e[e._i++];if(!t||t.type!==h.Function||t.value!=="color"||(t=e[e._i++],t.type!==h.Ident))return;const n=Nn[t.value];if(!n)return;const r={mode:n},i=N0(e,!1);if(!i)return;const a=q(n).channels;for(let o=0,s,l;o<a.length;o++)s=i[o],l=a[o],s.type!==h.None&&(r[l]=s.type===h.Number?s.value:s.value/100,l==="alpha"&&(r[l]=Math.max(0,Math.min(1,r[l]))));return r}function N0(e,t){const n=[];let r;for(;e._i<e.length;){if(r=e[e._i++],r.type===h.None||r.type===h.Number||r.type===h.Alpha||r.type===h.Percentage||t&&r.type===h.Hue){n.push(r);continue}if(r.type===h.ParenClose){if(e._i<e.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==h.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:h.None,value:void 0}),n.every(i=>i.type!==h.Alpha)?n:void 0}}function Ti(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==h.Function)return;let r=N0(e,t);if(r)return r.unshift(n.value),r}const V=e=>{if(typeof e!="string")return;const t=Pi(e),n=t?Ti(t,!0):void 0;let r,i=0,a=Ie.length;for(;i<a;)if((r=Ie[i++](e,n))!==void 0)return r;return t?zi(t):void 0};function H0(e,t){if(!t||t[0]!=="rgb"&&t[0]!=="rgba")return;const n={mode:"rgb"},[,r,i,a,o]=t;if(!(r.type===h.Hue||i.type===h.Hue||a.type===h.Hue))return r.type!==h.None&&(n.r=r.type===h.Number?r.value/255:r.value/100),i.type!==h.None&&(n.g=i.type===h.Number?i.value/255:i.value/100),a.type!==h.None&&(n.b=a.type===h.Number?a.value/255:a.value/100),o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const F0=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,ve=(e,t,n)=>e+n*(t-e),Ei=(e,t,n)=>(n-e)/(t-e),fn=(e,t,n,r,i,a)=>ve(ve(e,t,i),ve(n,r,i),a),Ii=(e,t,n,r,i,a,o,s,l,u,d)=>ve(fn(e,t,n,r,l,u),fn(i,a,o,s,l,u),d),Ri=e=>{let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],i=e[n+1];r===void 0&&i===void 0?t.push(void 0):r!==void 0&&i!==void 0?t.push([r,i]):t.push(r!==void 0?[r,r]:[i,i])}return t},q0=e=>t=>{let n=Ri(t);return r=>{let i=r*n.length,a=r>=1?n.length-1:Math.max(Math.floor(i),0),o=n[a];return o===void 0?void 0:e(o[0],o[1],i-a)}},m=q0(ve),z=e=>{let t=!1,n=e.map(r=>r!==void 0?(t=!0,r):1);return t?n:e},ke={mode:"rgb",channels:["r","g","b","alpha"],parse:[H0,E0,I0,T0,F0,"srgb"],serialize:"srgb",interpolate:{r:m,g:m,b:m,alpha:{use:m,fixup:z}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},Ft=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),dn=e=>{let t=Ft(e.r),n=Ft(e.g),r=Ft(e.b),i={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},qt=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),cn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"a98",r:qt(e*2.0415879038107465-t*.5650069742788597-.3447313507783297*n),g:qt(e*-.9692436362808798+t*1.8759675015077206+.0415550574071756*n),b:qt(e*.0134442806320312-t*.1183623922310184+1.0151749943912058*n)};return r!==void 0&&(i.alpha=r),i},At=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},_e=({r:e,g:t,b:n,alpha:r})=>{let i={mode:"lrgb",r:At(e),g:At(t),b:At(n)};return r!==void 0&&(i.alpha=r),i},ue=e=>{let{r:t,g:n,b:r,alpha:i}=_e(e),a={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*r};return i!==void 0&&(a.alpha=i),a},Dt=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):e*12.92},Ce=({r:e,g:t,b:n,alpha:r},i="rgb")=>{let a={mode:i,r:Dt(e),g:Dt(t),b:Dt(n)};return r!==void 0&&(a.alpha=r),a},he=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Ce({r:e*3.2409699419045226-t*1.537383177570094-.4986107602930034*n,g:e*-.9692436362808796+t*1.8759675015077204+.0415550574071756*n,b:e*.0556300796969936-t*.2039769588889765+1.0569715142428784*n});return r!==void 0&&(i.alpha=r),i},A0={...ke,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>cn(ue(e)),xyz65:cn},toMode:{rgb:e=>he(dn(e)),xyz65:dn}},L=e=>(e=e%360)<0?e+360:e,vt=(e,t)=>e.map((n,r,i)=>{if(n===void 0)return n;let a=L(n);return r===0||e[r-1]===void 0?a:t(a-L(i[r-1]))}).reduce((n,r)=>!n.length||r===void 0||n[n.length-1]===void 0?(n.push(r),n):(n.push(r+n[n.length-1]),n),[]),ne=e=>vt(e,t=>Math.abs(t)<=180?t:t-360*Math.sign(t)),Li=e=>vt(e,t=>Math.abs(t)>=180||t===0?t:t-360*Math.sign(t)),Ni=e=>vt(e,t=>t>=0?t:t+360),Hi=e=>vt(e,t=>t<=0?t:t-360),I=[-.14861,1.78277,-.29227,-.90649,1.97294,0],Fi=Math.PI/180,qi=180/Math.PI;let h0=I[3]*I[4],p0=I[1]*I[4],m0=I[1]*I[2]-I[0]*I[3];const D0=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(m0*n+e*h0-t*p0)/(m0+h0-p0),a=n-i,o=(I[4]*(t-i)-I[2]*a)/I[3],s={mode:"cubehelix",l:i,s:i===0||i===1?void 0:Math.sqrt(a*a+o*o)/(I[4]*i*(1-i))};return s.s&&(s.h=Math.atan2(o,a)*qi-120),r!==void 0&&(s.alpha=r),s},O0=({h:e,s:t,l:n,alpha:r})=>{let i={mode:"rgb"};e=(e===void 0?0:e+120)*Fi,n===void 0&&(n=0);let a=t===void 0?0:t*n*(1-n),o=Math.cos(e),s=Math.sin(e);return i.r=n+a*(I[0]*o+I[1]*s),i.g=n+a*(I[2]*o+I[3]*s),i.b=n+a*(I[4]*o+I[5]*s),r!==void 0&&(i.alpha=r),i},Je=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.s||!t.s)return 0;let n=L(e.h),r=L(t.h),i=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*i},X0=(e,t)=>{if(e.h===void 0||t.h===void 0)return 0;let n=L(e.h),r=L(t.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n},Ze=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.c||!t.c)return 0;let n=L(e.h),r=L(t.h),i=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*i},Re=(e="rgb",t=[1,1,1,0])=>{let n=q(e),r=n.channels,i=n.difference,a=k(e);return(o,s)=>{let l=a(o),u=a(s);return Math.sqrt(r.reduce((d,c,g)=>{let b=i[c]?i[c](l,u):l[c]-u[c];return d+(t[g]||0)*Math.pow(isNaN(b)?0:b,2)},0))}},Ai=()=>Re("lab65"),Di=(e=1,t=.045,n=.015)=>{let r=k("lab65");return(i,a)=>{let o=r(i),s=r(a),l=o.l,u=o.a,d=o.b,c=Math.sqrt(u*u+d*d),g=s.l,b=s.a,M=s.b,v=Math.sqrt(b*b+M*M),y=Math.pow(l-g,2),_=Math.pow(c-v,2),S=Math.pow(u-b,2)+Math.pow(d-M,2)-_;return Math.sqrt(y/Math.pow(e,2)+_/Math.pow(1+t*c,2)+S/Math.pow(1+n*c,2))}},Oi=(e=1,t=1,n=1)=>{let r=k("lab65");return(i,a)=>{let o=r(i),s=r(a),l=o.l,u=o.a,d=o.b,c=Math.sqrt(u*u+d*d),g=s.l,b=s.a,M=s.b,v=Math.sqrt(b*b+M*M),y=(c+v)/2,_=.5*(1-Math.sqrt(Math.pow(y,7)/(Math.pow(y,7)+Math.pow(25,7)))),S=u*(1+_),T=b*(1+_),N=Math.sqrt(S*S+d*d),H=Math.sqrt(T*T+M*M),A=Math.abs(S)+Math.abs(d)===0?0:Math.atan2(d,S);A+=(A<0)*2*Math.PI;let X=Math.abs(T)+Math.abs(M)===0?0:Math.atan2(M,T);X+=(X<0)*2*Math.PI;let pe=g-l,se=H-N,W=N*H===0?0:X-A;W-=(W>Math.PI)*2*Math.PI,W+=(W<-Math.PI)*2*Math.PI;let U=2*Math.sqrt(N*H)*Math.sin(W/2),me=(l+g)/2,be=(N+H)/2,j;N*H===0?j=A+X:(j=(A+X)/2,j-=(Math.abs(A-X)>Math.PI)*Math.PI,j+=(j<0)*2*Math.PI);let it=Math.pow(me-50,2),at=1-.17*Math.cos(j-Math.PI/6)+.24*Math.cos(2*j)+.32*Math.cos(3*j+Math.PI/30)-.2*Math.cos(4*j-63*Math.PI/180),Ae=1+.015*it/Math.sqrt(20+it),De=1+.045*be,Se=1+.015*be*at,Rt=30*Math.PI/180*Math.exp(-1*Math.pow((180/Math.PI*j-275)/25,2)),ot=2*Math.sqrt(Math.pow(be,7)/(Math.pow(be,7)+Math.pow(25,7))),Oe=-1*Math.sin(2*Rt)*ot;return Math.sqrt(Math.pow(pe/(e*Ae),2)+Math.pow(se/(t*De),2)+Math.pow(U/(n*Se),2)+Oe*se/(t*De)*U/(n*Se))}},Xi=(e=1,t=1)=>{let n=k("lab65");return(r,i)=>{let a=n(r),o=a.l,s=a.a,l=a.b,u=Math.sqrt(s*s+l*l),d=Math.atan2(l,s);d=d+2*Math.PI*(d<0);let c=n(i),g=c.l,b=c.a,M=c.b,v=Math.sqrt(b*b+M*M),y=Math.pow(o-g,2),_=Math.pow(u-v,2),S=Math.pow(s-b,2)+Math.pow(l-M,2)-_,T=Math.sqrt(Math.pow(u,4)/(Math.pow(u,4)+1900)),N=d>=164/180*Math.PI&&d<=345/180*Math.PI?.56+Math.abs(.2*Math.cos(d+168/180*Math.PI)):.36+Math.abs(.4*Math.cos(d+35/180*Math.PI)),H=o<16?.511:.040975*o/(1+.01765*o),A=.0638*u/(1+.0131*u)+.638,X=A*(T*N+1-T);return Math.sqrt(y/Math.pow(e*H,2)+_/Math.pow(t*A,2)+S/Math.pow(X,2))}},ji=()=>{let e=k("lab65");return(t,n)=>{let r=e(t),i=e(n),a=r.l-i.l,o=r.a-i.a,s=r.b-i.b;return Math.abs(a)+Math.sqrt(o*o+s*s)}},Bi=()=>Re("yiq",[.5053,.299,.1957]),Wi=()=>Re("itp",[518400,129600,518400]),re=e=>{let t=e.reduce((r,i)=>{if(i!==void 0){let a=i*Math.PI/180;r.sin+=Math.sin(a),r.cos+=Math.cos(a)}return r},{sin:0,cos:0}),n=Math.atan2(t.sin,t.cos)*180/Math.PI;return n<0?360+n:n},j0=e=>{let t=e.filter(n=>n!==void 0);return t.length?t.reduce((n,r)=>n+r,0)/t.length:void 0},Ot=e=>typeof e=="function";function Ki(e,t="rgb",n){let r=q(t),i=e.map(k(t));return r.channels.reduce((a,o)=>{let s=i.map(l=>l[o]).filter(l=>l!==void 0);if(s.length){let l;Ot(n)?l=n:n&&Ot(n[o])?l=n[o]:r.average&&Ot(r.average[o])?l=r.average[o]:l=j0,a[o]=l(s,o)}return a},{mode:t})}const B0={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:D0},toMode:{rgb:O0},interpolate:{h:{use:m,fixup:ne},s:m,l:m,alpha:{use:m,fixup:z}},difference:{h:Je},average:{h:re}},ae=({l:e,a:t,b:n,alpha:r},i="lch")=>{t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.sqrt(t*t+n*n),o={mode:i,l:e,c:a};return a&&(o.h=L(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(o.alpha=r),o},oe=({l:e,c:t,h:n,alpha:r},i="lab")=>{n===void 0&&(n=0);let a={mode:i,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(a.alpha=r),a},W0=Math.pow(29,3)/Math.pow(3,3),K0=Math.pow(6,3)/Math.pow(29,3),P={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},Te={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let Xt=e=>Math.pow(e,3)>K0?Math.pow(e,3):(116*e-16)/W0;const Hn=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+16)/116,a=t/500+i,o=i-n/200,s={mode:"xyz65",x:Xt(a)*Te.X,y:Xt(i)*Te.Y,z:Xt(o)*Te.Z};return r!==void 0&&(s.alpha=r),s},Ue=e=>he(Hn(e)),jt=e=>e>K0?Math.cbrt(e):(W0*e+16)/116,Fn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=jt(e/Te.X),a=jt(t/Te.Y),o=jt(n/Te.Z),s={mode:"lab65",l:116*a-16,a:500*(i-a),b:200*(a-o)};return r!==void 0&&(s.alpha=r),s},Qe=e=>{let t=Fn(ue(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},ht=1,Y0=1,Ge=26/180*Math.PI,pt=Math.cos(Ge),mt=Math.sin(Ge),V0=100/Math.log(139/100),bt=({l:e,c:t,h:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"lab65",l:(Math.exp(e*ht/V0)-1)/.0039},a=(Math.exp(.0435*t*Y0*ht)-1)/.075,o=a*Math.cos(n/180*Math.PI-Ge),s=a*Math.sin(n/180*Math.PI-Ge);return i.a=o*pt-s/.83*mt,i.b=o*mt+s/.83*pt,r!==void 0&&(i.alpha=r),i},gt=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=t*pt+n*mt,a=.83*(n*pt-t*mt),o=Math.sqrt(i*i+a*a),s={mode:"dlch",l:V0/ht*Math.log(1+.0039*e),c:Math.log(1+.075*o)/(.0435*Y0*ht)};return s.c&&(s.h=L((Math.atan2(a,i)+Ge)/Math.PI*180)),r!==void 0&&(s.alpha=r),s},b0=e=>bt(ae(e,"dlch")),g0=e=>oe(gt(e),"dlab"),G0={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:b0,rgb:e=>Ue(b0(e))},fromMode:{lab65:g0,rgb:e=>g0(Qe(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:m,a:m,b:m,alpha:{use:m,fixup:z}}},J0={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:bt,dlab:e=>oe(e,"dlab"),rgb:e=>Ue(bt(e))},fromMode:{lab65:gt,dlab:e=>ae(e,"dlch"),rgb:e=>gt(Qe(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:m,c:m,h:{use:m,fixup:ne},alpha:{use:m,fixup:z}},difference:{h:Ze},average:{h:re}};function Z0({h:e,s:t,i:n,alpha:r}){e=L(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.abs(e/60%2-1),a;switch(Math.floor(e/60)){case 0:a={r:n*(1+t*(3/(2-i)-1)),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1-t)};break;case 1:a={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1+t*(3/(2-i)-1)),b:n*(1-t)};break;case 2:a={r:n*(1-t),g:n*(1+t*(3/(2-i)-1)),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;case 3:a={r:n*(1-t),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1+t*(3/(2-i)-1))};break;case 4:a={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3/(2-i)-1))};break;case 5:a={r:n*(1+t*(3/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;default:a={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return a.mode="rgb",r!==void 0&&(a.alpha=r),a}function U0({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),a=Math.min(e,t,n),o={mode:"hsi",s:e+t+n===0?0:1-3*a/(e+t+n),i:(e+t+n)/3};return i-a!==0&&(o.h=(i===e?(t-n)/(i-a)+(t<n)*6:i===t?(n-e)/(i-a)+2:(e-t)/(i-a)+4)*60),r!==void 0&&(o.alpha=r),o}const Q0={mode:"hsi",toMode:{rgb:Z0},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:U0},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:m,fixup:ne},s:m,i:m,alpha:{use:m,fixup:z}},difference:{h:Je},average:{h:re}};function er({h:e,s:t,l:n,alpha:r}){e=L(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=n+t*(n<.5?n:1-n),a=i-(i-n)*2*Math.abs(e/60%2-1),o;switch(Math.floor(e/60)){case 0:o={r:i,g:a,b:2*n-i};break;case 1:o={r:a,g:i,b:2*n-i};break;case 2:o={r:2*n-i,g:i,b:a};break;case 3:o={r:2*n-i,g:a,b:i};break;case 4:o={r:a,g:2*n-i,b:i};break;case 5:o={r:i,g:2*n-i,b:a};break;default:o={r:2*n-i,g:2*n-i,b:2*n-i}}return o.mode="rgb",r!==void 0&&(o.alpha=r),o}function tr({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),a=Math.min(e,t,n),o={mode:"hsl",s:i===a?0:(i-a)/(1-Math.abs(i+a-1)),l:.5*(i+a)};return i-a!==0&&(o.h=(i===e?(t-n)/(i-a)+(t<n)*6:i===t?(n-e)/(i-a)+2:(e-t)/(i-a)+4)*60),r!==void 0&&(o.alpha=r),o}const Yi=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},Vi=new RegExp(`^hsla?\\(\\s*${yi}${Ee}${Ye}${Ee}${Ye}\\s*(?:,\\s*${Ln}\\s*)?\\)$`),nr=e=>{let t=e.match(Vi);if(!t)return;let n={mode:"hsl"};return t[3]!==void 0?n.h=+t[3]:t[1]!==void 0&&t[2]!==void 0&&(n.h=Yi(t[1],t[2])),t[4]!==void 0&&(n.s=Math.min(Math.max(0,t[4]/100),1)),t[5]!==void 0&&(n.l=Math.min(Math.max(0,t[5]/100),1)),t[6]!==void 0?n.alpha=Math.max(0,Math.min(1,t[6]/100)):t[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};function rr(e,t){if(!t||t[0]!=="hsl"&&t[0]!=="hsla")return;const n={mode:"hsl"},[,r,i,a,o]=t;if(r.type!==h.None){if(r.type===h.Percentage)return;n.h=r.value}if(i.type!==h.None){if(i.type===h.Hue)return;n.s=i.value/100}if(a.type!==h.None){if(a.type===h.Hue)return;n.l=a.value/100}return o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const qn={mode:"hsl",toMode:{rgb:er},fromMode:{rgb:tr},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[rr,nr],serialize:e=>`hsl(${e.h!==void 0?e.h:"none"} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:m,fixup:ne},s:m,l:m,alpha:{use:m,fixup:z}},difference:{h:Je},average:{h:re}};function An({h:e,s:t,v:n,alpha:r}){e=L(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.abs(e/60%2-1),a;switch(Math.floor(e/60)){case 0:a={r:n,g:n*(1-t*i),b:n*(1-t)};break;case 1:a={r:n*(1-t*i),g:n,b:n*(1-t)};break;case 2:a={r:n*(1-t),g:n,b:n*(1-t*i)};break;case 3:a={r:n*(1-t),g:n*(1-t*i),b:n};break;case 4:a={r:n*(1-t*i),g:n*(1-t),b:n};break;case 5:a={r:n,g:n*(1-t),b:n*(1-t*i)};break;default:a={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return a.mode="rgb",r!==void 0&&(a.alpha=r),a}function Dn({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),a=Math.min(e,t,n),o={mode:"hsv",s:i===0?0:1-a/i,v:i};return i-a!==0&&(o.h=(i===e?(t-n)/(i-a)+(t<n)*6:i===t?(n-e)/(i-a)+2:(e-t)/(i-a)+4)*60),r!==void 0&&(o.alpha=r),o}const On={mode:"hsv",toMode:{rgb:An},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:Dn},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:m,fixup:ne},s:m,v:m,alpha:{use:m,fixup:z}},difference:{h:Je},average:{h:re}};function ir({h:e,w:t,b:n,alpha:r}){if(t===void 0&&(t=0),n===void 0&&(n=0),t+n>1){let i=t+n;t/=i,n/=i}return An({h:e,s:n===1?1:1-t/(1-n),v:1-n,alpha:r})}function ar(e){let t=Dn(e);if(t===void 0)return;let n=t.s!==void 0?t.s:0,r=t.v!==void 0?t.v:0,i={mode:"hwb",w:(1-n)*r,b:1-r};return t.h!==void 0&&(i.h=t.h),t.alpha!==void 0&&(i.alpha=t.alpha),i}function or(e,t){if(!t||t[0]!=="hwb")return;const n={mode:"hwb"},[,r,i,a,o]=t;if(r.type!==h.None){if(r.type===h.Percentage)return;n.h=r.value}if(i.type!==h.None){if(i.type===h.Hue)return;n.w=i.value/100}if(a.type!==h.None){if(a.type===h.Hue)return;n.b=a.value/100}return o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const sr={mode:"hwb",toMode:{rgb:ir},fromMode:{rgb:ar},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[or],serialize:e=>`hwb(${e.h!==void 0?e.h:"none"} ${e.w!==void 0?e.w*100+"%":"none"} ${e.b!==void 0?e.b*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:m,fixup:ne},w:m,b:m,alpha:{use:m,fixup:z}},difference:{h:X0},average:{h:re}},lr=203,wt=.1593017578125,fr=78.84375,$t=.8359375,kt=18.8515625,_t=18.6875;function Bt(e){if(e<0)return 0;const t=Math.pow(e,1/fr);return 1e4*Math.pow(Math.max(0,t-$t)/(kt-_t*t),1/wt)}function Wt(e){if(e<0)return 0;const t=Math.pow(e/1e4,wt);return Math.pow(($t+kt*t)/(1+_t*t),fr)}const Kt=e=>Math.max(e/lr,0),un=({i:e,t,p:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i=Bt(e+.008609037037932761*t+.11102962500302593*n),a=Bt(e-.00860903703793275*t-.11102962500302599*n),o=Bt(e+.5600313357106791*t-.32062717498731885*n),s={mode:"xyz65",x:Kt(2.070152218389422*i-1.3263473389671556*a+.2066510476294051*o),y:Kt(.3647385209748074*i+.680566024947227*a-.0453045459220346*o),z:Kt(-.049747207535812*i-.0492609666966138*a+1.1880659249923042*o)};return r!==void 0&&(s.alpha=r),s},Yt=(e=0)=>Math.max(e*lr,0),hn=({x:e,y:t,z:n,alpha:r})=>{const i=Yt(e),a=Yt(t),o=Yt(n),s=Wt(.3592832590121217*i+.6976051147779502*a-.0358915932320289*o),l=Wt(-.1920808463704995*i+1.1004767970374323*a+.0753748658519118*o),u=Wt(.0070797844607477*i+.0748396662186366*a+.8433265453898765*o),d=.5*s+.5*l,c=1.61376953125*s-3.323486328125*l+1.709716796875*u,g=4.378173828125*s-4.24560546875*l-.132568359375*u,b={mode:"itp",i:d,t:c,p:g};return r!==void 0&&(b.alpha=r),b},dr={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:un,rgb:e=>he(un(e))},fromMode:{xyz65:hn,rgb:e=>hn(ue(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:m,t:m,p:m,alpha:{use:m,fixup:z}}},Gi=134.03437499999998,Ji=16295499532821565e-27,Vt=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,wt);return Math.pow(($t+kt*t)/(1+_t*t),Gi)},Gt=(e=0)=>Math.max(e*203,0),Xn=({x:e,y:t,z:n,alpha:r})=>{e=Gt(e),t=Gt(t),n=Gt(n);let i=1.15*e-.15*n,a=.66*t+.34*e,o=Vt(.41478972*i+.579999*a+.014648*n),s=Vt(-.20151*i+1.120649*a+.0531008*n),l=Vt(-.0166008*i+.2648*a+.6684799*n),u=(o+s)/2,d={mode:"jab",j:.44*u/(1-.56*u)-Ji,a:3.524*o-4.066708*s+.542708*l,b:.199076*o+1.096799*s-1.295875*l};return r!==void 0&&(d.alpha=r),d},Zi=134.03437499999998,M0=16295499532821565e-27,Jt=e=>{if(e<0)return 0;let t=Math.pow(e,1/Zi);return 1e4*Math.pow(($t-t)/(_t*t-kt),1/wt)},Zt=e=>e/203,jn=({j:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+M0)/(.44+.56*(e+M0)),a=Jt(i+.13860504*t+.058047316*n),o=Jt(i-.13860504*t-.058047316*n),s=Jt(i-.096019242*t-.8118919*n),l={mode:"xyz65",x:Zt(1.661373024652174*a-.914523081304348*o+.23136208173913045*s),y:Zt(-.3250758611844533*a+1.571847026732543*o-.21825383453227928*s),z:Zt(-.090982811*a-.31272829*o+1.5227666*s)};return r!==void 0&&(l.alpha=r),l},Bn=e=>{let t=Xn(ue(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Wn=e=>he(jn(e)),cr={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Bn,xyz65:Xn},toMode:{rgb:Wn,xyz65:jn},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:m,a:m,b:m,alpha:{use:m,fixup:z}}},pn=({j:e,a:t,b:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),a={mode:"jch",j:e,c:i};return i&&(a.h=L(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(a.alpha=r),a},mn=({j:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let i={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},ur={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:mn,rgb:e=>Wn(mn(e))},fromMode:{rgb:e=>pn(Bn(e)),jab:pn},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:m,fixup:ne},c:m,j:m,alpha:{use:m,fixup:z}},difference:{h:Ze},average:{h:re}},Ct=Math.pow(29,3)/Math.pow(3,3),Kn=Math.pow(6,3)/Math.pow(29,3);let Ut=e=>Math.pow(e,3)>Kn?Math.pow(e,3):(116*e-16)/Ct;const St=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+16)/116,a=t/500+i,o=i-n/200,s={mode:"xyz50",x:Ut(a)*P.X,y:Ut(i)*P.Y,z:Ut(o)*P.Z};return r!==void 0&&(s.alpha=r),s},Le=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Ce({r:e*3.1341359569958707-t*1.6173863321612538-.4906619460083532*n,g:e*-.978795502912089+t*1.916254567259524+.03344273116131949*n,b:e*.07195537988411677-t*.2289768264158322+1.405386058324125*n});return r!==void 0&&(i.alpha=r),i},Yn=e=>Le(St(e)),Ne=e=>{let{r:t,g:n,b:r,alpha:i}=_e(e),a={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*r};return i!==void 0&&(a.alpha=i),a},Qt=e=>e>Kn?Math.cbrt(e):(Ct*e+16)/116,Pt=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Qt(e/P.X),a=Qt(t/P.Y),o=Qt(n/P.Z),s={mode:"lab",l:116*a-16,a:500*(i-a),b:200*(a-o)};return r!==void 0&&(s.alpha=r),s},Vn=e=>{let t=Pt(Ne(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};function hr(e,t){if(!t||t[0]!=="lab")return;const n={mode:"lab"},[,r,i,a,o]=t;if(!(r.type===h.Hue||i.type===h.Hue||a.type===h.Hue))return r.type!==h.None&&(n.l=Math.min(Math.max(0,r.value),100)),i.type!==h.None&&(n.a=i.type===h.Number?i.value:i.value*125/100),a.type!==h.None&&(n.b=a.type===h.Number?a.value:a.value*125/100),o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const zt={mode:"lab",toMode:{xyz50:St,rgb:Yn},fromMode:{xyz50:Pt,rgb:Vn},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[hr],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:m,a:m,b:m,alpha:{use:m,fixup:z}}},pr={...zt,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Hn,rgb:Ue},fromMode:{xyz65:Fn,rgb:Qe},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};function mr(e,t){if(!t||t[0]!=="lch")return;const n={mode:"lch"},[,r,i,a,o]=t;if(r.type!==h.None){if(r.type===h.Hue)return;n.l=Math.min(Math.max(0,r.value),100)}if(i.type!==h.None&&(n.c=Math.max(0,i.type===h.Number?i.value:i.value*150/100)),a.type!==h.None){if(a.type===h.Percentage)return;n.h=a.value}return o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const Tt={mode:"lch",toMode:{lab:oe,rgb:e=>Yn(oe(e))},fromMode:{rgb:e=>ae(Vn(e)),lab:ae},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[mr],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:m,fixup:ne},c:m,l:m,alpha:{use:m,fixup:z}},difference:{h:Ze},average:{h:re}},br={...Tt,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>oe(e,"lab65"),rgb:e=>Ue(oe(e,"lab65"))},fromMode:{rgb:e=>ae(Qe(e),"lch65"),lab65:e=>ae(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},Gn=({l:e,u:t,v:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),a={mode:"lchuv",l:e,c:i};return i&&(a.h=L(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(a.alpha=r),a},Jn=({l:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let i={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},gr=(e,t,n)=>4*e/(e+15*t+3*n),Mr=(e,t,n)=>9*t/(e+15*t+3*n),Ui=gr(P.X,P.Y,P.Z),Qi=Mr(P.X,P.Y,P.Z),ea=e=>e<=Kn?Ct*e:116*Math.cbrt(e)-16,Mt=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=ea(t/P.Y),a=gr(e,t,n),o=Mr(e,t,n);!isFinite(a)||!isFinite(o)?i=a=o=0:(a=13*i*(a-Ui),o=13*i*(o-Qi));let s={mode:"luv",l:i,u:a,v:o};return r!==void 0&&(s.alpha=r),s},ta=(e,t,n)=>4*e/(e+15*t+3*n),na=(e,t,n)=>9*t/(e+15*t+3*n),ra=ta(P.X,P.Y,P.Z),ia=na(P.X,P.Y,P.Z),xt=({l:e,u:t,v:n,alpha:r})=>{if(e===void 0&&(e=0),e===0)return{mode:"xyz50",x:0,y:0,z:0};t===void 0&&(t=0),n===void 0&&(n=0);let i=t/(13*e)+ra,a=n/(13*e)+ia,o=P.Y*(e<=8?e/Ct:Math.pow((e+16)/116,3)),s=o*(9*i)/(4*a),l=o*(12-3*i-20*a)/(4*a),u={mode:"xyz50",x:s,y:o,z:l};return r!==void 0&&(u.alpha=r),u},aa=e=>Gn(Mt(Ne(e))),oa=e=>Le(xt(Jn(e))),xr={mode:"lchuv",toMode:{luv:Jn,rgb:oa},fromMode:{rgb:aa,luv:Gn},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:m,fixup:ne},c:m,l:m,alpha:{use:m,fixup:z}},difference:{h:Ze},average:{h:re}},yr={...ke,mode:"lrgb",toMode:{rgb:Ce},fromMode:{rgb:_e},parse:["srgb-linear"],serialize:"srgb-linear"},vr={mode:"luv",toMode:{xyz50:xt,rgb:e=>Le(xt(e))},fromMode:{xyz50:Mt,rgb:e=>Mt(Ne(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:m,u:m,v:m,alpha:{use:m,fixup:z}}},Zn=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.cbrt(.41222147079999993*e+.5363325363*t+.0514459929*n),a=Math.cbrt(.2119034981999999*e+.6806995450999999*t+.1073969566*n),o=Math.cbrt(.08830246189999998*e+.2817188376*t+.6299787005000002*n),s={mode:"oklab",l:.2104542553*i+.793617785*a-.0040720468*o,a:1.9779984951*i-2.428592205*a+.4505937099*o,b:.0259040371*i+.7827717662*a-.808675766*o};return r!==void 0&&(s.alpha=r),s},et=e=>{let t=Zn(_e(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},He=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.pow(e*.9999999984505198+.39633779217376786*t+.2158037580607588*n,3),a=Math.pow(e*1.0000000088817609-.10556134232365635*t-.06385417477170591*n,3),o=Math.pow(e*1.0000000546724108-.08948418209496575*t-1.2914855378640917*n,3),s={mode:"lrgb",r:4.076741661347994*i-3.307711590408193*a+.230969928729428*o,g:-1.2684380040921763*i+2.6097574006633715*a-.3413193963102197*o,b:-.004196086541837188*i-.7034186144594493*a+1.7076147009309444*o};return r!==void 0&&(s.alpha=r),s},tt=e=>Ce(He(e));function bn(e){const r=1.170873786407767;return .5*(r*e-.206+Math.sqrt((r*e-.206)*(r*e-.206)+4*.03*r*e))}function yt(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function sa(e,t){let n,r,i,a,o,s,l,u;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,i=.59662641,a=.75515197,o=.56771245,s=4.0767416621,l=-3.3077115913,u=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,i=.08285427,a=.1254107,o=.14503204,s=-1.2684380046,l=2.6097574011,u=-.3413193965):(n=1.35733652,r=-.00915799,i=-1.1513021,a=-.50559606,o=.00692167,s=-.0041960863,l=-.7034186147,u=1.707614701);let d=n+r*e+i*t+a*e*e+o*e*t,c=.3963377774*e+.2158037573*t,g=-.1055613458*e-.0638541728*t,b=-.0894841775*e-1.291485548*t;{let M=1+d*c,v=1+d*g,y=1+d*b,_=M*M*M,S=v*v*v,T=y*y*y,N=3*c*M*M,H=3*g*v*v,A=3*b*y*y,X=6*c*c*M,pe=6*g*g*v,se=6*b*b*y,W=s*_+l*S+u*T,U=s*N+l*H+u*A,me=s*X+l*pe+u*se;d=d-W*U/(U*U-.5*W*me)}return d}function Un(e,t){let n=sa(e,t),r=He({l:1,a:n*e,b:n*t}),i=Math.cbrt(1/Math.max(r.r,r.g,r.b)),a=i*n;return[i,a]}function la(e,t,n,r,i,a=null){a||(a=Un(e,t));let o;if((n-i)*a[1]-(a[0]-i)*r<=0)o=a[1]*i/(r*a[0]+a[1]*(i-n));else{o=a[1]*(i-1)/(r*(a[0]-1)+a[1]*(i-n));{let s=n-i,l=r,u=.3963377774*e+.2158037573*t,d=-.1055613458*e-.0638541728*t,c=-.0894841775*e-1.291485548*t,g=s+l*u,b=s+l*d,M=s+l*c;{let v=i*(1-o)+o*n,y=o*r,_=v+y*u,S=v+y*d,T=v+y*c,N=_*_*_,H=S*S*S,A=T*T*T,X=3*g*_*_,pe=3*b*S*S,se=3*M*T*T,W=6*g*g*_,U=6*b*b*S,me=6*M*M*T,be=4.0767416621*N-3.3077115913*H+.2309699292*A-1,j=4.0767416621*X-3.3077115913*pe+.2309699292*se,it=4.0767416621*W-3.3077115913*U+.2309699292*me,at=j/(j*j-.5*be*it),Ae=-be*at,De=-1.2684380046*N+2.6097574011*H-.3413193965*A-1,Se=-1.2684380046*X+2.6097574011*pe-.3413193965*se,Rt=-1.2684380046*W+2.6097574011*U-.3413193965*me,ot=Se/(Se*Se-.5*De*Rt),Oe=-De*ot,d0=-.0041960863*N-.7034186147*H+1.707614701*A-1,Lt=-.0041960863*X-.7034186147*pe+1.707614701*se,Mi=-.0041960863*W-.7034186147*U+1.707614701*me,c0=Lt/(Lt*Lt-.5*d0*Mi),Nt=-d0*c0;Ae=at>=0?Ae:1e6,Oe=ot>=0?Oe:1e6,Nt=c0>=0?Nt:1e6,o+=Math.min(Ae,Math.min(Oe,Nt))}}}return o}function Qn(e,t,n=null){n||(n=Un(e,t));let r=n[0],i=n[1];return[i/r,i/(1-r)]}function wr(e,t,n){let r=Un(t,n),i=la(t,n,e,1,e,r),a=Qn(t,n,r),o=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),s=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),l=i/Math.min(e*a[0],(1-e)*a[1]),u=e*o,d=(1-e)*s,c=.9*l*Math.sqrt(Math.sqrt(1/(1/(u*u*u*u)+1/(d*d*d*d))));return u=e*.4,d=(1-e)*.8,[Math.sqrt(1/(1/(u*u)+1/(d*d))),c,i]}function gn(e){const t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,i={mode:"okhsl",l:bn(t)};e.alpha!==void 0&&(i.alpha=e.alpha);let a=Math.sqrt(n*n+r*r);if(!a)return i.s=0,i;let[o,s,l]=wr(t,n/a,r/a),u;if(a<s){let d=0,c=.8*o,g=1-c/s;u=(a-d)/(c+g*(a-d))*.8}else{let d=s,c=.2*s*s*1.25*1.25/o,g=1-c/(l-s);u=.8+.2*((a-d)/(c+g*(a-d)))}return u&&(i.s=u,i.h=L(Math.atan2(r,n)*180/Math.PI)),i}function Mn(e){let t=e.h!==void 0?e.h:0,n=e.s!==void 0?e.s:0,r=e.l!==void 0?e.l:0;const i={mode:"oklab",l:yt(r)};if(e.alpha!==void 0&&(i.alpha=e.alpha),!n||r===1)return i.a=i.b=0,i;let a=Math.cos(t/180*Math.PI),o=Math.sin(t/180*Math.PI),[s,l,u]=wr(i.l,a,o),d,c,g,b;n<.8?(d=1.25*n,c=0,g=.8*s,b=1-g/l):(d=5*(n-.8),c=l,g=.2*l*l*1.25*1.25/s,b=1-g/(u-l));let M=c+d*g/(1-b*d);return i.a=M*a,i.b=M*o,i}const $r={...qn,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:gn,rgb:e=>gn(et(e))},toMode:{oklab:Mn,rgb:e=>tt(Mn(e))}};function xn(e){let t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,i=Math.sqrt(n*n+r*r),a=i?n/i:1,o=i?r/i:1,[s,l]=Qn(a,o),u=.5,d=1-u/s,c=l/(i+t*l),g=c*t,b=c*i,M=yt(g),v=b*M/g,y=He({l:M,a:a*v,b:o*v}),_=Math.cbrt(1/Math.max(y.r,y.g,y.b,0));t=t/_,i=i/_*bn(t)/t,t=bn(t);const S={mode:"okhsv",s:i?(u+l)*b/(l*u+l*d*b):0,v:t?t/g:0};return S.s&&(S.h=L(Math.atan2(r,n)*180/Math.PI)),e.alpha!==void 0&&(S.alpha=e.alpha),S}function yn(e){const t={mode:"oklab"};e.alpha!==void 0&&(t.alpha=e.alpha);const n=e.h!==void 0?e.h:0,r=e.s!==void 0?e.s:0,i=e.v!==void 0?e.v:0,a=Math.cos(n/180*Math.PI),o=Math.sin(n/180*Math.PI),[s,l]=Qn(a,o),u=.5,d=1-u/s,c=1-r*u/(u+l-l*d*r),g=r*l*u/(u+l-l*d*r),b=yt(c),M=g*b/c,v=He({l:b,a:a*M,b:o*M}),y=Math.cbrt(1/Math.max(v.r,v.g,v.b,0)),_=yt(i*c),S=g*_/c;return t.l=_*y,t.a=S*a*y,t.b=S*o*y,t}const kr={...On,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:xn,rgb:e=>xn(et(e))},toMode:{oklab:yn,rgb:e=>tt(yn(e))}};function _r(e,t){if(!t||t[0]!=="oklab")return;const n={mode:"oklab"},[,r,i,a,o]=t;if(!(r.type===h.Hue||i.type===h.Hue||a.type===h.Hue))return r.type!==h.None&&(n.l=Math.min(Math.max(0,r.type===h.Number?r.value:r.value/100),1)),i.type!==h.None&&(n.a=i.type===h.Number?i.value:i.value*.4/100),a.type!==h.None&&(n.b=a.type===h.Number?a.value:a.value*.4/100),o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const Cr={...zt,mode:"oklab",toMode:{lrgb:He,rgb:tt},fromMode:{lrgb:Zn,rgb:et},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[_r],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`};function Sr(e,t){if(!t||t[0]!=="oklch")return;const n={mode:"oklch"},[,r,i,a,o]=t;if(r.type!==h.None){if(r.type===h.Hue)return;n.l=Math.min(Math.max(0,r.type===h.Number?r.value:r.value/100),1)}if(i.type!==h.None&&(n.c=Math.max(0,i.type===h.Number?i.value:i.value*.4/100)),a.type!==h.None){if(a.type===h.Percentage)return;n.h=a.value}return o.type!==h.None&&(n.alpha=Math.min(1,Math.max(0,o.type===h.Number?o.value:o.value/100))),n}const Pr={...Tt,mode:"oklch",toMode:{oklab:e=>oe(e,"oklab"),rgb:e=>tt(oe(e,"oklab"))},fromMode:{rgb:e=>ae(et(e),"oklch"),oklab:e=>ae(e,"oklch")},parse:[Sr],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},vn=e=>{let{r:t,g:n,b:r,alpha:i}=_e(e),a={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*r,z:0*t+.0451133818589026*n+1.043944368900976*r};return i!==void 0&&(a.alpha=i),a},wn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Ce({r:e*2.4934969119414263-t*.9313836179191242-.402710784450717*n,g:e*-.8294889695615749+t*1.7626640603183465+.0236246858419436*n,b:e*.0358458302437845-t*.0761723892680418+.9568845240076871*n},"p3");return r!==void 0&&(i.alpha=r),i},zr={...ke,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>wn(ue(e)),xyz65:wn},toMode:{rgb:e=>he(vn(e)),xyz65:vn}},en=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},$n=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"prophoto",r:en(e*1.3457868816471585-t*.2555720873797946-.0511018649755453*n),g:en(e*-.5446307051249019+t*1.5082477428451466+.0205274474364214*n),b:en(e*0+t*0+1.2119675456389452*n)};return r!==void 0&&(i.alpha=r),i},tn=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},kn=e=>{let t=tn(e.r),n=tn(e.g),r=tn(e.b),i={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*r,z:0*t+0*n+.8251046025104602*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},Tr={...ke,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:$n,rgb:e=>$n(Ne(e))},toMode:{xyz50:kn,rgb:e=>Le(kn(e))}},x0=1.09929682680944,fa=.018053968510807,nn=e=>{const t=Math.abs(e);return t>fa?(Math.sign(e)||1)*(x0*Math.pow(t,.45)-(x0-1)):4.5*e},_n=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"rec2020",r:nn(e*1.7166511879712683-t*.3556707837763925-.2533662813736599*n),g:nn(e*-.6666843518324893+t*1.6164812366349395+.0157685458139111*n),b:nn(e*.0176398574453108-t*.0427706132578085+.9421031212354739*n)};return r!==void 0&&(i.alpha=r),i},y0=1.09929682680944,da=.018053968510807,rn=(e=0)=>{let t=Math.abs(e);return t<da*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((t+y0-1)/y0,1/.45)},Cn=e=>{let t=rn(e.r),n=rn(e.g),r=rn(e.b),i={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*t+.6779980715188708*n+.059301716469862*r,z:0*t+.0280726930490874*n+1.0609850577107909*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},Er={...ke,mode:"rec2020",fromMode:{xyz65:_n,rgb:e=>_n(ue(e))},toMode:{xyz65:Cn,rgb:e=>he(Cn(e))},parse:["rec2020"],serialize:"rec2020"},we=.0037930732552754493,Ir=Math.cbrt(we),an=e=>Math.cbrt(e)-Ir,Rr=e=>{const{r:t,g:n,b:r,alpha:i}=_e(e),a=an(.3*t+.622*n+.078*r+we),o=an(.23*t+.692*n+.078*r+we),s=an(.2434226892454782*t+.2047674442449682*n+.5518098665095535*r+we),l={mode:"xyb",x:(a-o)/2,y:(a+o)/2,b:s-(a+o)/2};return i!==void 0&&(l.alpha=i),l},on=e=>Math.pow(e+Ir,3),Lr=({x:e,y:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i=on(e+t)-we,a=on(t-e)-we,o=on(n+t)-we,s=Ce({r:11.031566904639861*i-9.866943908131562*a-.16462299650829934*o,g:-3.2541473810744237*i+4.418770377582723*a-.16462299650829934*o,b:-3.6588512867136815*i+2.7129230459360922*a+1.9459282407775895*o});return r!==void 0&&(s.alpha=r),s},Nr={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:Lr},fromMode:{rgb:Rr},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:m,y:m,b:m,alpha:{use:m,fixup:z}}},Hr={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Le,lab:Pt},fromMode:{rgb:Ne,lab:St},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:m,y:m,z:m,alpha:{use:m,fixup:z}}},Fr=e=>{let{x:t,y:n,z:r,alpha:i}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let a={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*r};return i!==void 0&&(a.alpha=i),a},qr=e=>{let{x:t,y:n,z:r,alpha:i}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let a={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*r};return i!==void 0&&(a.alpha=i),a},Ar={mode:"xyz65",toMode:{rgb:he,xyz50:Fr},fromMode:{rgb:ue,xyz50:qr},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:m,y:m,z:m,alpha:{use:m,fixup:z}}},Dr=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return r!==void 0&&(i.alpha=r),i},Or=({y:e,i:t,q:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return r!==void 0&&(i.alpha=r),i},Xr={mode:"yiq",toMode:{rgb:Or},fromMode:{rgb:Dr},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:m,i:m,q:m,alpha:{use:m,fixup:z}}},ca=(e,t)=>Math.round(e*(t=Math.pow(10,t)))/t,jr=(e=4)=>t=>typeof t=="number"?ca(t,e):t;let je=jr(2);const Ve=e=>Math.max(0,Math.min(1,e||0)),$e=e=>Math.round(Ve(e)*255),e0=k("rgb"),ua=k("hsl"),t0=e=>{if(e===void 0)return;let t=$e(e.r),n=$e(e.g),r=$e(e.b);return"#"+(1<<24|t<<16|n<<8|r).toString(16).slice(1)},Br=e=>{if(e===void 0)return;let t=$e(e.alpha!==void 0?e.alpha:1);return t0(e)+(256|t).toString(16).slice(1)},Wr=e=>{if(e===void 0)return;let t=$e(e.r),n=$e(e.g),r=$e(e.b);return e.alpha===void 0||e.alpha===1?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${je(Ve(e.alpha))})`},Kr=e=>{if(e===void 0)return;const t=je(e.h||0),n=je(Ve(e.s)*100)+"%",r=je(Ve(e.l)*100)+"%";return e.alpha===void 0||e.alpha===1?`hsl(${t}, ${n}, ${r})`:`hsla(${t}, ${n}, ${r}, ${je(Ve(e.alpha))})`},ha=e=>{const t=Z(e);if(!t)return;const n=q(t.mode);if(!n.serialize||typeof n.serialize=="string"){let r=`color(${n.serialize||`--${t.mode}`} `;return n.channels.forEach((i,a)=>{i!=="alpha"&&(r+=(a?" ":"")+(t[i]!==void 0?t[i]:"none"))}),t.alpha!==void 0&&t.alpha<1&&(r+=` / ${t.alpha}`),r+")"}if(typeof n.serialize=="function")return n.serialize(t)},Me=e=>t0(e0(e)),pa=e=>Br(e0(e)),ma=e=>Wr(e0(e)),ba=e=>Kr(ua(e)),ga={normal:(e,t)=>t,multiply:(e,t)=>e*t,screen:(e,t)=>e+t-e*t,"hard-light":(e,t)=>t<.5?e*2*t:2*t*(1-e)-1,overlay:(e,t)=>e<.5?t*2*e:2*e*(1-t)-1,darken:(e,t)=>Math.min(e,t),lighten:(e,t)=>Math.max(e,t),"color-dodge":(e,t)=>e===0?0:t===1?1:Math.min(1,e/(1-t)),"color-burn":(e,t)=>e===1?1:t===0?0:1-Math.min(1,(1-e)/t),"soft-light":(e,t)=>t<.5?e-(1-2*t)*e*(1-e):e+(2*t-1)*((e<.25?((16*e-12)*e+4)*e:Math.sqrt(e))-e),difference:(e,t)=>Math.abs(e-t),exclusion:(e,t)=>e+t-2*e*t},Ma=(e,t="normal",n="rgb")=>{let r=typeof t=="function"?t:ga[t],i=k(n),a=q(n).channels;return e.map(s=>{let l=i(s);return l.alpha===void 0&&(l.alpha=1),l}).reduce((s,l)=>{if(s===void 0)return l;let u=l.alpha+s.alpha*(1-l.alpha);return a.reduce((d,c)=>(c!=="alpha"&&(u===0?d[c]=0:(d[c]=l.alpha*(1-s.alpha)*l[c]+l.alpha*s.alpha*r(s[c],l[c])+(1-l.alpha)*s.alpha*s[c],d[c]=Math.max(0,Math.min(1,d[c]/u)))),d),{mode:n,alpha:u})})},xa=([e,t])=>e+Math.random()*(t-e),ya=e=>Object.keys(e).reduce((t,n)=>{let r=e[n];return t[n]=Array.isArray(r)?r:[r,r],t},{}),va=(e="rgb",t={})=>{let n=q(e),r=ya(t);return n.channels.reduce((i,a)=>((r.alpha||a!=="alpha")&&(i[a]=xa(r[a]||n.ranges[a])),i),{mode:e})},nt=(e,t="rgb",n=!1)=>{let r=t?q(t).channels:null,i=t?k(t):Z;return a=>{let o=i(a);if(!o)return;let s=(r||q(o.mode).channels).reduce((u,d)=>{let c=e(o[d],d,o,t);return c!==void 0&&!isNaN(c)&&(u[d]=c),u},{mode:o.mode});if(!n)return s;let l=Z(a);return l&&l.mode!==s.mode?k(l.mode)(s):s}},Yr=(e,t,n)=>t!=="alpha"?(e||0)*(n.alpha!==void 0?n.alpha:1):e,Vr=(e,t,n)=>t!=="alpha"&&n.alpha!==0?(e||0)/(n.alpha!==void 0?n.alpha:1):e,n0=(e=1,t=0)=>(n,r)=>r!=="alpha"?n*e+t:n,wa=(e=1,t=1,n=0)=>(r,i)=>i!=="alpha"?e*Math.pow(r,t)+n:r,$a=e=>{e[0]===void 0&&(e[0]=0),e[e.length-1]===void 0&&(e[e.length-1]=1);let t=1,n,r,i,a;for(;t<e.length;){if(e[t]===void 0){for(r=t,i=e[t-1],n=t;e[n]===void 0;)n++;for(a=(e[n]-i)/(n-t+1);t<n;)e[t]=i+(t+1-r)*a,t++}else e[t]<e[t-1]&&(e[t]=e[t-1]);t++}return e},Gr=(e=.5)=>t=>e<=0?1:e>=1?0:Math.pow(t,Math.log(.5)/Math.log(e)),ft=e=>typeof e=="function",ge=e=>e&&typeof e=="object",v0=e=>typeof e=="number",Jr=(e,t="rgb",n,r)=>{let i=q(t),a=k(t),o=[],s=[],l={};e.forEach(g=>{Array.isArray(g)?(o.push(a(g[0])),s.push(g[1])):v0(g)||ft(g)?l[s.length]=g:(o.push(a(g)),s.push(void 0))}),$a(s);let u=i.channels.reduce((g,b)=>{let M;return ge(n)&&ge(n[b])&&n[b].fixup?M=n[b].fixup:ge(i.interpolate[b])&&i.interpolate[b].fixup?M=i.interpolate[b].fixup:M=v=>v,g[b]=M(o.map(v=>v[b])),g},{});if(r){let g=o.map((b,M)=>i.channels.reduce((v,y)=>(v[y]=u[y][M],v),{mode:t}));u=i.channels.reduce((b,M)=>(b[M]=g.map(v=>{let y=r(v[M],M,v,t);return isNaN(y)?void 0:y}),b),{})}let d=i.channels.reduce((g,b)=>{let M;return ft(n)?M=n:ge(n)&&ft(n[b])?M=n[b]:ge(n)&&ge(n[b])&&n[b].use?M=n[b].use:ft(i.interpolate[b])?M=i.interpolate[b]:ge(i.interpolate[b])&&(M=i.interpolate[b].use),g[b]=M(u[b]),g},{}),c=o.length-1;return g=>{if(g=Math.min(Math.max(0,g),1),g<=s[0])return o[0];if(g>s[c])return o[c];let b=0;for(;s[b]<g;)b++;let M=s[b-1],v=s[b]-M,y=(g-M)/v,_=l[b]||l[0];_!==void 0&&(v0(_)&&(_=Gr((_-M)/v)),y=_(y));let S=(b-1+y)/c;return i.channels.reduce((T,N)=>{let H=d[N](S);return H!==void 0&&(T[N]=H),T},{mode:t})}},Zr=(e,t="rgb",n)=>Jr(e,t,n),Ur=(e,t)=>(n,r="rgb",i)=>{let a=t?nt(t,r):void 0,o=Jr(n,r,i,e);return a?s=>a(o(s)):o},ka=Ur(Yr,Vr),dt=(e,t)=>(e+t)%t,Qr=(e,t,n,r,i)=>{let a=i*i,o=a*i;return((1-3*i+3*a-o)*e+(4-6*a+3*o)*t+(1+3*i+3*a-3*o)*n+o*r)/6},ei=e=>t=>{let n=e.length-1,r=t>=1?n-1:Math.max(0,Math.floor(t*n));return Qr(r>0?e[r-1]:2*e[r]-e[r+1],e[r],e[r+1],r<n-1?e[r+2]:2*e[r+1]-e[r],(t-r/n)*n)},ti=e=>t=>{const n=e.length-1,r=Math.floor(t*n);return Qr(e[dt(r-1,e.length)],e[dt(r,e.length)],e[dt(r+1,e.length)],e[dt(r+2,e.length)],(t-r/n)*n)},ni=e=>{let t,n=e.length-1,r=new Array(n),i=new Array(n),a=new Array(n);for(r[1]=1/4,i[1]=(6*e[1]-e[0])/4,t=2;t<n;++t)r[t]=1/(4-r[t-1]),i[t]=(6*e[t]-(t==n-1?e[n]:0)-i[t-1])*r[t];for(a[0]=e[0],a[n]=e[n],n-1>0&&(a[n-1]=i[n-1]),t=n-2;t>0;--t)a[t]=i[t]-r[t]*a[t+1];return a},_a=e=>ei(ni(e)),Ca=e=>ti(ni(e)),ze=Math.sign,Sn=Math.min,B=Math.abs,r0=e=>{let t=e.length-1,n=[],r=[],i=[];for(let a=0;a<t;a++)n.push((e[a+1]-e[a])*t),r.push(a>0?.5*(e[a+1]-e[a-1])*t:void 0),i.push(a>0?(ze(n[a-1])+ze(n[a]))*Sn(B(n[a-1]),B(n[a]),.5*B(r[a])):void 0);return[n,r,i]},i0=(e,t,n)=>{let r=e.length-1,i=r*r;return a=>{let o;a>=1?o=r-1:o=Math.max(0,Math.floor(a*r));let s=a-o/r,l=s*s,u=l*s;return(t[o]+t[o+1]-2*n[o])*i*u+(3*n[o]-2*t[o]-t[o+1])*r*l+t[o]*s+e[o]}},Sa=e=>{if(e.length<3)return m(e);let t=e.length-1,[n,,r]=r0(e);return r[0]=n[0],r[t]=n[t-1],i0(e,r,n)},Pa=e=>{if(e.length<3)return m(e);let t=e.length-1,[n,r,i]=r0(e);return r[0]=(e[1]*2-e[0]*1.5-e[2]*.5)*t,r[t]=(e[t]*1.5-e[t-1]*2+e[t-2]*.5)*t,i[0]=r[0]*n[0]<=0?0:B(r[0])>2*B(n[0])?2*n[0]:r[0],i[t]=r[t]*n[t-1]<=0?0:B(r[t])>2*B(n[t-1])?2*n[t-1]:r[t],i0(e,i,n)},za=e=>{let t=e.length-1,[n,r,i]=r0(e);r[0]=.5*(e[1]-e[t])*t,r[t]=.5*(e[0]-e[t-1])*t;let a=(e[0]-e[t])*t,o=a;return i[0]=(ze(a)+ze(n[0]))*Sn(B(a),B(n[0]),.5*B(r[0])),i[t]=(ze(n[t-1])+ze(o))*Sn(B(n[t-1]),B(o),.5*B(r[t])),i0(e,i,n)},ri=(e=1)=>e===1?t=>t:t=>Math.pow(t,e),Ta=(e=2,t=1)=>{let n=ri(t);if(e<2)return e<1?[]:[n(.5)];let r=[];for(let i=0;i<e;i++)r.push(n(i/(e-1)));return r},ii=k("rgb"),ai=e=>{const t={mode:e.mode,r:Math.max(0,Math.min(e.r!==void 0?e.r:0,1)),g:Math.max(0,Math.min(e.g!==void 0?e.g:0,1)),b:Math.max(0,Math.min(e.b!==void 0?e.b:0,1))};return e.alpha!==void 0&&(t.alpha=e.alpha),t},oi=e=>ai(ii(e)),si=e=>e!==void 0&&(e.r===void 0||e.r>=0&&e.r<=1)&&(e.g===void 0||e.g>=0&&e.g<=1)&&(e.b===void 0||e.b>=0&&e.b<=1);function a0(e){return si(ii(e))}function Et(e="rgb"){const{gamut:t}=q(e);if(!t)return r=>!0;const n=k(typeof t=="string"?t:e);return r=>si(n(r))}function Ea(e){return e=Z(e),e===void 0||a0(e)?e:k(e.mode)(oi(e))}function o0(e="rgb"){const{gamut:t}=q(e);if(!t)return a=>Z(a);const n=typeof t=="string"?t:e,r=k(n),i=Et(n);return a=>{const o=Z(a);if(!o)return;const s=r(o);if(i(s))return o;const l=ai(s);return o.mode===l.mode?l:k(o.mode)(l)}}function Ia(e,t="lch",n="rgb"){e=Z(e);let r=n==="rgb"?a0:Et(n),i=n==="rgb"?oi:o0(n);if(e===void 0||r(e))return e;let a=k(e.mode);e=k(t)(e);let o={...e,c:0};if(!r(o))return a(i(o));let s=0,l=e.c!==void 0?e.c:0,u=q(t).ranges.c,d=(u[1]-u[0])/Math.pow(2,13),c=o.c;for(;l-s>d;)o.c=s+(l-s)*.5,r(o)?(c=o.c,s=o.c):l=o.c;return a(r(o)?o:{...o,c})}function Ra(e="rgb",t="oklch",n=Re("oklch"),r=.02){const i=k(e),a=q(e);if(!a.gamut)return d=>i(d);const o=Et(e),s=o0(e),l=k(t),{ranges:u}=q(t);return d=>{if(d=Z(d),d===void 0)return;const c={...l(d)};if(c.l===void 0&&(c.l=0),c.c===void 0&&(c.c=0),c.l>=u.l[1]){const y={...a.white,mode:e};return d.alpha!==void 0&&(y.alpha=d.alpha),y}if(c.l<=u.l[0]){const y={...a.black,mode:e};return d.alpha!==void 0&&(y.alpha=d.alpha),y}if(o(c))return i(c);let g=0,b=c.c,M=(u.c[1]-u.c[0])/4e3,v=s(c);for(;b-g>M;)c.c=(g+b)*.5,v=s(c),o(c)||n&&r>0&&n(c,v)<=r?g=c.c:b=c.c;return i(o(c)?c:v)}}const La=(e,t=Re(),n=r=>r)=>{let r=e.map((i,a)=>({color:n(i),i:a}));return(i,a=1,o=1/0)=>(isFinite(a)&&(a=Math.max(1,Math.min(a,r.length-1))),r.forEach(s=>{s.d=t(i,s.color)}),r.sort((s,l)=>s.d-l.d).slice(0,a).filter(s=>s.d<o).map(s=>e[s.i]))},s0=e=>Math.max(e,0),l0=e=>Math.max(Math.min(e,1),0),Na=(e,t,n)=>e===void 0||t===void 0?void 0:e+n*(t-e),Ha=e=>{let t=1-l0(e);return[.393+.607*t,.769-.769*t,.189-.189*t,0,.349-.349*t,.686+.314*t,.168-.168*t,0,.272-.272*t,.534-.534*t,.131+.869*t,0,0,0,0,1]},Fa=e=>{let t=s0(e);return[.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1]},qa=e=>{let t=1-l0(e);return[.2126+.7874*t,.7152-.7152*t,.0722-.0722*t,0,.2126-.2126*t,.7152+.2848*t,.0722-.0722*t,0,.2126-.2126*t,.7152-.7152*t,.0722+.9278*t,0,0,0,0,1]},Aa=e=>{let t=Math.PI*e/180,n=Math.cos(t),r=Math.sin(t);return[.213+n*.787-r*.213,.715-n*.715-r*.715,.072-n*.072+r*.928,0,.213-n*.213+r*.143,.715+n*.285+r*.14,.072-n*.072-r*.283,0,.213-n*.213-r*.787,.715-n*.715+r*.715,.072+n*.928+r*.072,0,0,0,0,1]},It=(e,t,n=!1)=>{let r=k(t),i=q(t).channels;return a=>{let o=r(a);if(!o)return;let s={mode:t},l,u=i.length;for(let c=0;c<e.length;c++)l=i[Math.floor(c/u)],o[l]!==void 0&&(s[l]=(s[l]||0)+e[c]*(o[i[c%u]]||0));if(!n)return s;let d=Z(a);return d&&s.mode!==d.mode?k(d.mode)(s):s}},Da=(e=1,t="rgb")=>{let n=s0(e);return nt(n0(n),t,!0)},Oa=(e=1,t="rgb")=>{let n=s0(e);return nt(n0(n,(1-n)/2),t,!0)},Xa=(e=1,t="rgb")=>It(Ha(e),t,!0),ja=(e=1,t="rgb")=>It(Fa(e),t,!0),Ba=(e=1,t="rgb")=>It(qa(e),t,!0),Wa=(e=1,t="rgb")=>{let n=l0(e);return nt((r,i)=>i==="alpha"?r:Na(n,1-n,r),t,!0)},Ka=(e=0,t="rgb")=>It(Aa(e),t,!0);let Ya=k("rgb");const Va=[[1,0,-0,0,1,0,-0,-0,1],[.856167,.182038,-.038205,.029342,.955115,.015544,-.00288,-.001563,1.004443],[.734766,.334872,-.069637,.05184,.919198,.028963,-.004928,-.004209,1.009137],[.630323,.465641,-.095964,.069181,.890046,.040773,-.006308,-.007724,1.014032],[.539009,.579343,-.118352,.082546,.866121,.051332,-.007136,-.011959,1.019095],[.458064,.679578,-.137642,.092785,.846313,.060902,-.007494,-.016807,1.024301],[.38545,.769005,-.154455,.100526,.829802,.069673,-.007442,-.02219,1.029632],[.319627,.849633,-.169261,.106241,.815969,.07779,-.007025,-.028051,1.035076],[.259411,.923008,-.18242,.110296,.80434,.085364,-.006276,-.034346,1.040622],[.203876,.990338,-.194214,.112975,.794542,.092483,-.005222,-.041043,1.046265],[.152286,1.052583,-.204868,.114503,.786281,.099216,-.003882,-.048116,1.051998]],Ga=[[1,0,-0,0,1,0,-0,-0,1],[.866435,.177704,-.044139,.049567,.939063,.01137,-.003453,.007233,.99622],[.760729,.319078,-.079807,.090568,.889315,.020117,-.006027,.013325,.992702],[.675425,.43385,-.109275,.125303,.847755,.026942,-.00795,.018572,.989378],[.605511,.52856,-.134071,.155318,.812366,.032316,-.009376,.023176,.9862],[.547494,.607765,-.155259,.181692,.781742,.036566,-.01041,.027275,.983136],[.498864,.674741,-.173604,.205199,.754872,.039929,-.011131,.030969,.980162],[.457771,.731899,-.18967,.226409,.731012,.042579,-.011595,.034333,.977261],[.422823,.781057,-.203881,.245752,.709602,.044646,-.011843,.037423,.974421],[.392952,.82361,-.216562,.263559,.69021,.046232,-.01191,.040281,.97163],[.367322,.860646,-.227968,.280085,.672501,.047413,-.01182,.04294,.968881]],Ja=[[1,0,-0,0,1,0,-0,-0,1],[.92667,.092514,-.019184,.021191,.964503,.014306,.008437,.054813,.93675],[.89572,.13333,-.02905,.029997,.9454,.024603,.013027,.104707,.882266],[.905871,.127791,-.033662,.026856,.941251,.031893,.01341,.148296,.838294],[.948035,.08949,-.037526,.014364,.946792,.038844,.010853,.193991,.795156],[1.017277,.027029,-.044306,-.006113,.958479,.047634,.006379,.248708,.744913],[1.104996,-.046633,-.058363,-.032137,.971635,.060503,.001336,.317922,.680742],[1.193214,-.109812,-.083402,-.058496,.97941,.079086,-.002346,.403492,.598854],[1.257728,-.139648,-.118081,-.078003,.975409,.102594,-.003316,.501214,.502102],[1.278864,-.125333,-.153531,-.084748,.957674,.127074,-989e-6,.601151,.399838],[1.255528,-.076749,-.178779,-.078411,.930809,.147602,.004733,.691367,.3039]],f0=(e,t)=>{let n=Math.max(0,Math.min(1,t)),r=Math.round(n/.1),i=Math.round(n%.1),a=e[r];if(i>0&&r<e.length-1){let o=e[r+1];a=a.map((s,l)=>ve(a[l],o[l],i))}return o=>{let s=Z(o);if(s===void 0)return;let{r:l,g:u,b:d}=Ya(s),c={mode:"rgb",r:a[0]*l+a[1]*u+a[2]*d,g:a[3]*l+a[4]*u+a[5]*d,b:a[6]*l+a[7]*u+a[8]*d};return s.alpha!==void 0&&(c.alpha=s.alpha),k(s.mode)(c)}},Za=(e=1)=>f0(Va,e),Ua=(e=1)=>f0(Ga,e),Qa=(e=1)=>f0(Ja,e),eo=e=>e*e*(3-2*e),to=e=>.5-Math.sin(Math.asin(1-2*e)/3),no=e=>e*e*e*(e*(e*6-15)+10),ro=e=>(1-Math.cos(e*Math.PI))/2;function Pn(e){let t=k("lrgb")(e);return .2126*t.r+.7152*t.g+.0722*t.b}function Q(e,t){let n=Pn(e),r=Pn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}const io=$(A0),ao=$(B0),oo=$(G0),so=$(J0),lo=$(Q0),fo=$(qn),co=$(On),uo=$(sr),ho=$(dr),po=$(cr),mo=$(ur),bo=$(zt),go=$(pr),Mo=$(Tt),xo=$(br),yo=$(xr),vo=$(yr),wo=$(vr),$o=$($r),ko=$(kr),_o=$(Cr),Co=$(Pr),So=$(zr),Po=$(Tr),zo=$(Er),To=$(ke),Eo=$(Nr),Io=$(Hr),Ro=$(Ar),Lo=$(Xr),No=Object.freeze(Object.defineProperty({__proto__:null,a98:io,average:Ki,averageAngle:re,averageNumber:j0,blend:Ma,blerp:fn,clampChroma:Ia,clampGamut:o0,clampRgb:Ea,colorsNamed:z0,convertA98ToXyz65:dn,convertCubehelixToRgb:O0,convertDlchToLab65:bt,convertHsiToRgb:Z0,convertHslToRgb:er,convertHsvToRgb:An,convertHwbToRgb:ir,convertItpToXyz65:un,convertJabToJch:pn,convertJabToRgb:Wn,convertJabToXyz65:jn,convertJchToJab:mn,convertLab65ToDlch:gt,convertLab65ToRgb:Ue,convertLab65ToXyz65:Hn,convertLabToLch:ae,convertLabToRgb:Yn,convertLabToXyz50:St,convertLchToLab:oe,convertLchuvToLuv:Jn,convertLrgbToOklab:Zn,convertLrgbToRgb:Ce,convertLuvToLchuv:Gn,convertLuvToXyz50:xt,convertOkhslToOklab:Mn,convertOkhsvToOklab:yn,convertOklabToLrgb:He,convertOklabToOkhsl:gn,convertOklabToOkhsv:xn,convertOklabToRgb:tt,convertP3ToXyz65:vn,convertProphotoToXyz50:kn,convertRec2020ToXyz65:Cn,convertRgbToCubehelix:D0,convertRgbToHsi:U0,convertRgbToHsl:tr,convertRgbToHsv:Dn,convertRgbToHwb:ar,convertRgbToJab:Bn,convertRgbToLab:Vn,convertRgbToLab65:Qe,convertRgbToLrgb:_e,convertRgbToOklab:et,convertRgbToXyb:Rr,convertRgbToXyz50:Ne,convertRgbToXyz65:ue,convertRgbToYiq:Dr,convertXybToRgb:Lr,convertXyz50ToLab:Pt,convertXyz50ToLuv:Mt,convertXyz50ToProphoto:$n,convertXyz50ToRgb:Le,convertXyz50ToXyz65:qr,convertXyz65ToA98:cn,convertXyz65ToItp:hn,convertXyz65ToJab:Xn,convertXyz65ToLab65:Fn,convertXyz65ToP3:wn,convertXyz65ToRec2020:_n,convertXyz65ToRgb:he,convertXyz65ToXyz50:Fr,convertYiqToRgb:Or,converter:k,cubehelix:ao,differenceCie76:Ai,differenceCie94:Di,differenceCiede2000:Oi,differenceCmc:Xi,differenceEuclidean:Re,differenceHueChroma:Ze,differenceHueNaive:X0,differenceHueSaturation:Je,differenceHyab:ji,differenceItp:Wi,differenceKotsarenkoRamos:Bi,displayable:a0,dlab:oo,dlch:so,easingGamma:ri,easingInOutSine:ro,easingMidpoint:Gr,easingSmootherstep:no,easingSmoothstep:eo,easingSmoothstepInverse:to,filterBrightness:Da,filterContrast:Oa,filterDeficiencyDeuter:Ua,filterDeficiencyProt:Za,filterDeficiencyTrit:Qa,filterGrayscale:Ba,filterHueRotate:Ka,filterInvert:Wa,filterSaturate:ja,filterSepia:Xa,fixupAlpha:z,fixupHueDecreasing:Hi,fixupHueIncreasing:Ni,fixupHueLonger:Li,fixupHueShorter:ne,formatCss:ha,formatHex:Me,formatHex8:pa,formatHsl:ba,formatRgb:ma,getMode:q,hsi:lo,hsl:fo,hsv:co,hwb:uo,inGamut:Et,interpolate:Zr,interpolateWith:Ur,interpolateWithPremultipliedAlpha:ka,interpolatorLinear:m,interpolatorPiecewise:q0,interpolatorSplineBasis:ei,interpolatorSplineBasisClosed:ti,interpolatorSplineMonotone:Sa,interpolatorSplineMonotone2:Pa,interpolatorSplineMonotoneClosed:za,interpolatorSplineNatural:_a,interpolatorSplineNaturalClosed:Ca,itp:ho,jab:po,jch:mo,lab:bo,lab65:go,lch:Mo,lch65:xo,lchuv:yo,lerp:ve,lrgb:vo,luv:wo,mapAlphaDivide:Vr,mapAlphaMultiply:Yr,mapTransferGamma:wa,mapTransferLinear:n0,mapper:nt,modeA98:A0,modeCubehelix:B0,modeDlab:G0,modeDlch:J0,modeHsi:Q0,modeHsl:qn,modeHsv:On,modeHwb:sr,modeItp:dr,modeJab:cr,modeJch:ur,modeLab:zt,modeLab65:pr,modeLch:Tt,modeLch65:br,modeLchuv:xr,modeLrgb:yr,modeLuv:vr,modeOkhsl:$r,modeOkhsv:kr,modeOklab:Cr,modeOklch:Pr,modeP3:zr,modeProphoto:Tr,modeRec2020:Er,modeRgb:ke,modeXyb:Nr,modeXyz50:Hr,modeXyz65:Ar,modeYiq:Xr,nearest:La,okhsl:$o,okhsv:ko,oklab:_o,oklch:Co,p3:So,parse:V,parseHex:E0,parseHsl:rr,parseHslLegacy:nr,parseHwb:or,parseLab:hr,parseLch:mr,parseNamed:T0,parseOklab:_r,parseOklch:Sr,parseRgb:H0,parseRgbLegacy:I0,parseTransparent:F0,prophoto:Po,random:va,rec2020:zo,removeParser:ki,rgb:To,round:jr,samples:Ta,serializeHex:t0,serializeHex8:Br,serializeHsl:Kr,serializeRgb:Wr,toGamut:Ra,trilerp:Ii,unlerp:Ei,useMode:$,useParser:L0,wcagContrast:Q,wcagLuminance:Pn,xyb:Eo,xyz50:Io,xyz65:Ro,yiq:Lo},Symbol.toStringTag,{value:"Module"}));class Be{constructor(t){this.key=t,this.type=Symbol.for("ColorReference")}}class We{constructor(t,n,r){this.fn=t,this.args=n,this.dependencies=r,this.type=Symbol.for("ColorFunction")}execute(t){const n=this.args.map(r=>typeof r=="string"&&t.has(r)?t.resolve(r):r);return this.fn(...n)}}class Y extends Error{constructor(t){super(t),this.name="PaletteError"}}class w0 extends Error{constructor(t){super(`Circular dependency detected: ${t.join(" -> ")}`),this.path=t,this.name="CircularDependencyError"}}var F,ie,G,ee,J,le,xe,fe,de,w,zn,li,Ke,ct,fi,di,ci,ui,hi,Tn,pi,En,mi;class Ho{constructor(t={}){D(this,w);D(this,F,new Map);D(this,ie,new Map);D(this,G,new Map);D(this,ee,new Map);D(this,J,new Map);D(this,le,"auto");D(this,xe,new Set);D(this,fe,new EventTarget);D(this,de,new Map);Pe(this,le,t.mode||"auto"),C(this,w,mi).call(this)}registerFunction(t,n){if(this[t]||t==="ref"||t==="func")throw new Y(`Function name "${t}" is reserved.`);p(this,de).set(t,n),this._logCallback&&this._logCallback(`Registered function '${t}'.`)}func(t,...n){if(!p(this,de).has(t))throw new Y(`Custom function "${t}" is not registered.`);const r=p(this,de).get(t),i=n.filter(a=>typeof a=="string"&&a.includes("."));return new We(r,n,i)}createPalette(t,n={}){const{extends:r,overrides:i={}}=n;if(p(this,F).has(t))throw new Y(`Palette "${t}" already exists.`);if(r&&!p(this,F).has(r))throw new Y(`Base palette "${r}" does not exist.`);if(p(this,F).set(t,{extends:r,overrides:i}),this._logCallback&&this._logCallback(`Palette '${t}' created${r?` extending '${r}'`:""}.`),r&&Object.keys(i).length>0)for(const[a,o]of Object.entries(i))this.define(`${t}.${a}`,o)}extendPalette(t,n,r={}){return this.createPalette(t,{extends:n,overrides:r})}copyPalette(t,n){if(!p(this,F).has(t))throw new Y(`Source palette "${t}" does not exist.`);if(p(this,F).has(n))throw new Y(`Target palette "${n}" already exists.`);const r=this.getAllKeysForPalette(t);this.createPalette(n);for(const i of r){const a=i.split(".").slice(1).join("."),o=this.getDefinitionForKey(i);this.define(`${n}.${a}`,o)}this._logCallback&&this._logCallback(`Copied palette '${t}' to '${n}'.`)}deletePalette(t){if(!p(this,F).has(t))throw new Y(`Palette "${t}" does not exist.`);const n=this.getAllKeysForPalette(t);for(const r of n)p(this,ie).delete(r),p(this,G).delete(r),p(this,ee).delete(r),p(this,J).delete(r);p(this,F).delete(t),this._logCallback&&this._logCallback(`Deleted palette '${t}'.`)}define(t,n){const[r]=t.split(".");if(!p(this,F).has(r))throw new Y(`Palette "${r}" does not exist. Create it first.`);C(this,w,zn).call(this,t,n)}set(t,n){if(!this.has(t))throw new Y(`Color "${t}" is not defined. Use .define() first.`);C(this,w,zn).call(this,t,n)}flush(){if(p(this,le)!=="batch")return;const t=C(this,w,hi).call(this,Array.from(p(this,xe))),n=[];for(const r of t){const i=p(this,G).get(r);C(this,w,Ke).call(this,r);const a=p(this,G).get(r);i!==a&&(n.push({key:r,oldValue:i,newValue:a}),C(this,w,En).call(this,r,a,i))}n.length>0&&(p(this,fe).dispatchEvent(new CustomEvent("change",{detail:n})),p(this,fe).dispatchEvent(new CustomEvent("batch-complete",{detail:n})),this._logCallback&&this._logCallback(`Flush complete. ${n.length} colors updated.`)),p(this,xe).clear()}resolve(t){if(!p(this,G).has(t))try{C(this,w,Ke).call(this,t)}catch{return"invalid"}return p(this,G).get(t)}has(t){let[n,r]=t.split(".");for(;n;){if(p(this,ie).has(`${n}.${r}`))return!0;const i=p(this,F).get(n);if(!i||!i.extends)break;n=i.extends}return!1}on(t,n){p(this,fe).addEventListener(t,n)}watch(t,n){this.on(`watch:${t}`,r=>{const i=r;n(i.detail.newValue,i.detail.oldValue)})}ref(t){return new Be(t)}getAllPalettes(){return Array.from(p(this,F).entries()).map(([t,n])=>({name:t,config:n}))}getAllKeysForPalette(t){return C(this,w,fi).call(this,t)}getDefinitionForKey(t){return C(this,w,ct).call(this,t)}valueToString(t){return C(this,w,Tn).call(this,t)}get mode(){return p(this,le)}set mode(t){Pe(this,le,t)}get batchQueueSize(){return p(this,xe).size}getDependencies(t){return Array.from(p(this,J).get(t)||[])}getDependents(t){return Array.from(p(this,ee).get(t)||[])}getConnectionGraph(){const t={};for(const[n,r]of p(this,J).entries())t[n]=Array.from(r);return t}_getDefinition(t){return C(this,w,ct).call(this,t)}_getCustomFunctions(){return p(this,de)}getPaletteDependencies(t){const n=this.getAllKeysForPalette(t),r=new Set;for(const i of n){const a=this.getDependencies(i);for(const o of a)o.startsWith(`${t}.`)||r.add(o)}return Array.from(r)}resolvePalette(t){const n=this.getAllKeysForPalette(t),r={};for(const i of n){const a=i.split(".").slice(1).join(".");r[a]=this.resolve(i)}return r}createRenderer(t){if(!this._ColorRenderer)throw new Error("ColorRenderer class not injected. Please call setColorRenderer() first.");return new this._ColorRenderer(this,t)}setColorRenderer(t){this._ColorRenderer=t}setLogCallback(t){this._logCallback=t}render(t="css-variables"){return this.createRenderer(t).render()}}F=new WeakMap,ie=new WeakMap,G=new WeakMap,ee=new WeakMap,J=new WeakMap,le=new WeakMap,xe=new WeakMap,fe=new WeakMap,de=new WeakMap,w=new WeakSet,zn=function(t,n){if(typeof n=="string"&&!V(n))throw new Y(`Invalid color value: "${n}". Must be a valid CSS color or a router function.`);p(this,ie).set(t,n),C(this,w,di).call(this,t,n),p(this,le)==="auto"?C(this,w,li).call(this,t):p(this,xe).add(t),this._logCallback&&this._logCallback(`Defined '${t}' = ${C(this,w,Tn).call(this,n)}`)},li=function(t){const n=C(this,w,ui).call(this,t),r=[];for(const i of n){const a=p(this,G).get(i);C(this,w,Ke).call(this,i);const o=p(this,G).get(i);a!==o&&(r.push({key:i,oldValue:a,newValue:o}),C(this,w,En).call(this,i,o,a))}r.length>0&&p(this,fe).dispatchEvent(new CustomEvent("change",{detail:r}))},Ke=function(t,n=[]){if(n.includes(t))throw new w0([...n,t]);const r=C(this,w,ct).call(this,t);let i;return r instanceof Be?i=C(this,w,Ke).call(this,r.key,[...n,t]):r instanceof We?i=r.execute(this):i=C(this,w,pi).call(this,r),p(this,G).set(t,i),i},ct=function(t){let[n,r]=t.split(".");for(;n;){const i=`${n}.${r}`;if(p(this,ie).has(i))return p(this,ie).get(i);const a=p(this,F).get(n);if(!a||!a.extends)break;n=a.extends}throw new Y(`Color '${t}' not found in palette hierarchy.`)},fi=function(t){const n=new Set;let r=t;const i=[];for(;r&&!i.includes(r);){i.unshift(r);const a=p(this,F).get(r);r=a==null?void 0:a.extends}for(const a of i){const o=`${a}.`;for(const s of p(this,ie).keys())s.startsWith(o)&&n.add(s.split(".").slice(1).join("."))}return Array.from(n).map(a=>`${t}.${a}`)},di=function(t,n){var i;if(p(this,J).has(t))for(const a of p(this,J).get(t))(i=p(this,ee).get(a))==null||i.delete(t);p(this,J).set(t,new Set);const r=C(this,w,ci).call(this,n);for(const a of r)p(this,ee).has(a)||p(this,ee).set(a,new Set),p(this,ee).get(a).add(t),p(this,J).get(t).add(a)},ci=function(t){return t instanceof Be?[t.key]:t instanceof We?t.dependencies:[]},ui=function(t){const n=new Set,r=[],i=this;function a(o){n.has(o)||(n.add(o),(p(i,ee).get(o)||[]).forEach(a),r.push(o))}return a(t),r.reverse()},hi=function(t){const n=[],r=new Set,i=new Set,a=this,o=s=>{if(!r.has(s)){if(i.has(s))throw new w0([...i,s]);i.add(s),(p(a,J).get(s)||[]).forEach(l=>{t.includes(l)&&o(l)}),i.delete(s),r.add(s),n.push(s)}};for(const s of t)r.has(s)||o(s);return n},Tn=function(t){var n;if(t instanceof Be)return`ref('${t.key}')`;if(t instanceof We){const r=((n=[...p(this,de).entries()].find(([a,o])=>o===t.fn))==null?void 0:n[0])||t.fn.name.replace("bound ",""),i=t.args.map(a=>typeof a=="string"?`'${a}'`:a).join(", ");return`${r}(${i})`}return`'${t}'`},pi=function(t){const n=V(t);return n?Me(n):"#00000000"},En=function(t,n,r){p(this,fe).dispatchEvent(new CustomEvent(`watch:${t}`,{detail:{newValue:n,oldValue:r}}))},mi=function(){this.registerFunction("bestContrastWith",(t,n)=>{if(!V(t))return"#000000";if(!n)return Q("#fff",t)>=Q("#000",t)?"#ffffff":"#000000";if(!p(this,F).has(n))return console.warn(`Palette "${n}" not found, falling back to black/white`),Q("#fff",t)>=Q("#000",t)?"#ffffff":"#000000";const r=this.getAllKeysForPalette(n);if(r.length===0)return console.warn(`Palette "${n}" has no colors, falling back to black/white`),Q("#fff",t)>=Q("#000",t)?"#ffffff":"#000000";let i=null,a=0;for(const o of r)try{const s=this.resolve(o);if(s&&s!=="invalid"){const l=Q(s,t);l>a&&(a=l,i=s)}}catch{continue}if(i)return i;for(const o of r)try{const s=this.resolve(o);if(s&&s!=="invalid")return s}catch{continue}return"#000000"}),this.registerFunction("colorMix",(t,n,r="50%",i="lab")=>{try{const a=V(t),o=V(n);if(!a||!o)return t;const s=Zr([a,o],i),l=parseFloat(r)/100;return Me(s(l))}catch{return t}}),this.registerFunction("relativeTo",(t,n)=>{try{const r=V(t);if(!r)return t;if(n.includes("/ 0.8")){const i={...r,alpha:.8};return Me(i)}return Me(r)}catch{return t}}),this.registerFunction("minContrastWith",(t,n=1.5)=>{if(!V(t))return"#000000";const r=Q("#fff",t),i=Q("#000",t);return r>=n?"#ffffff":i>=n?"#000000":r>=i?"#ffffff":"#000000"}),this.registerFunction("lighten",(t,n)=>{try{const r=V(t);if(!r)return t;const a=k("hsl")(r);return a&&typeof a.l=="number"?(a.l=Math.min(1,a.l+n),Me(a)):t}catch{return t}}),this.registerFunction("darken",(t,n)=>{try{const r=V(t);if(!r)return t;const a=k("hsl")(r);return a&&typeof a.l=="number"?(a.l=Math.max(0,a.l-n),Me(a)):t}catch{return t}})};var O,R,ye,K,In,bi,Rn,gi;class Fo{constructor(t,n="css-variables"){D(this,K);D(this,O);D(this,R);D(this,ye,new Map);Pe(this,O,t),Pe(this,R,n==="css"?"css-variables":n),C(this,K,In).call(this)}registerFunctionRenderer(t,n){p(this,ye).has(p(this,R))||p(this,ye).set(p(this,R),new Map),p(this,ye).get(p(this,R)).set(t,n)}render(){const t=new Set;p(this,O).getAllPalettes().forEach(({name:i})=>{p(this,O).getAllKeysForPalette(i).forEach(a=>t.add(a))});const n=Array.from(t).sort();if(p(this,R)==="json"){const i={};for(const a of n)i[a]=p(this,O).resolve(a);return JSON.stringify(i,null,2)}let r="";for(const i of n){const a=p(this,O)._getDefinition(i),o=C(this,K,bi).call(this,a,i);p(this,R)==="css-variables"?r+=`  --${i.replace(/\./g,"-")}: ${o};
`:p(this,R)==="scss"&&(r+=`$${i.replace(/\./g,"-")}: ${o};
`)}return p(this,R)==="css-variables"?`:root {
${r}}`:r}get format(){return p(this,R)}set format(t){Pe(this,R,t==="css"?"css-variables":t),C(this,K,In).call(this)}}O=new WeakMap,R=new WeakMap,ye=new WeakMap,K=new WeakSet,In=function(){this.registerFunctionRenderer("colorMix",t=>{const[n,r,i="50%",a="lab"]=t,s=100-(i.includes("%")?parseFloat(i):parseFloat(i)*100);return`color-mix(in ${a}, ${n} ${s}%, ${r})`}),this.registerFunctionRenderer("lighten",t=>{const[n,r]=t,i=Math.round(parseFloat(r)*100);return`color-mix(in oklch, ${n} ${100-i}%, white)`}),this.registerFunctionRenderer("darken",t=>{const[n,r]=t,i=Math.round(parseFloat(r)*100);return`color-mix(in oklch, ${n} ${100-i}%, black)`}),p(this,R)==="scss"&&(this.registerFunctionRenderer("lighten",t=>{const[n,r]=t,i=Math.round(parseFloat(r)*100);return`lighten(${n}, ${i}%)`}),this.registerFunctionRenderer("darken",t=>{const[n,r]=t,i=Math.round(parseFloat(r)*100);return`darken(${n}, ${i}%)`}),this.registerFunctionRenderer("colorMix",t=>{const[n,r,i="50%"]=t,a=i.includes("%")?parseFloat(i):parseFloat(i)*100;return`mix(${r}, ${n}, ${a}%)`}))},bi=function(t,n){return t instanceof Be?C(this,K,Rn).call(this,t.key):t instanceof We?C(this,K,gi).call(this,t,n):p(this,O).resolve(n)},Rn=function(t){return p(this,R)==="scss"?`$${t.replace(/\./g,"-")}`:p(this,R)==="css-variables"?`var(--${t.replace(/\./g,"-")})`:p(this,O).resolve(t)},gi=function(t,n){var o;const r=p(this,ye).get(p(this,R));if(!r)return p(this,O).resolve(n);const i=((o=[...p(this,O)._getCustomFunctions().entries()].find(([s,l])=>l===t.fn))==null?void 0:o[0])||"unknown",a=r.get(i);if(!a)return p(this,O).resolve(n);try{const s=t.args.map(l=>typeof l=="string"&&l.includes(".")&&p(this,O).has(l)?C(this,K,Rn).call(this,l):l);return a(s)}catch(s){return console.warn(`Failed to render function ${i}:`,s),p(this,O).resolve(n)}};const f=new Ho;f.setColorRenderer(Fo);function E(e){const t=document.getElementById("event-log-container");t&&(t.innerHTML=`<p><span class="text-gray-400">${new Date().toLocaleTimeString()}</span> &mdash; ${e}</p>`+t.innerHTML)}f.setLogCallback(E);function rt(){const e=document.getElementById("palettes-container");e&&(e.innerHTML="",f.getAllPalettes().forEach(({name:t,config:n})=>{const r=document.createElement("div");r.className="bg-white p-6 shadow-sm border border-gray-200 fade-in";let i=`<h3 class="text-xl text-gray-800">${t}</h3>`;n.extends&&(i+=`<p class="text-sm text-gray-500">extends <span class="font-medium text-indigo-600">${n.extends}</span></p>`);const a=f.getAllKeysForPalette(t);let o='<div class="mt-4 space-y-3">';a.length>0?a.sort().forEach(s=>{const l=s.split(".").slice(1).join("."),u=f.getDefinitionForKey(s),d=f.resolve(s)||"#transparent";o+=`
          <div class="flex items-center justify-between text-sm">
            <div class="flex items-center gap-3">
              <div class="color-swatch" style="background-color: ${d};"></div>
              <div>
                <p class="font-semibold text-gray-900">${l}</p>
                <p class="font-mono text-xs text-gray-500">${f.valueToString(u)}</p>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <p class="font-mono text-gray-700">${d}</p>
              <button class="edit-color-btn text-indigo-600 hover:text-indigo-800 text-xs" data-key="${s}" title="Edit this color">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                </svg>
              </button>
            </div>
          </div>`}):o+='<p class="text-sm text-gray-500">No colors defined yet.</p>',r.innerHTML=i+o+"</div>",e.appendChild(r)}))}function Fe(){const e=document.querySelector(".tab-button.active"),t=(e==null?void 0:e.dataset.tab)||"css-variables",n=document.getElementById("output-code");if(n)try{const r=f.createRenderer(t);n.textContent=r.render(),n.className=`language-${t} text-sm text-gray-200 font-mono`}catch(r){n.textContent=`Error rendering output:
${r.message}`}}function qe(){const e=document.getElementById("color-demo-container");if(e)try{const t=f.render("css-variables");let n=document.getElementById("demo-styles");n||(n=document.createElement("style"),n.id="demo-styles",document.head.appendChild(n)),n.textContent=t,e.innerHTML=`
      <!-- Card Palette Demo -->
      <div class="p-6 rounded-lg border shadow-sm" style="background-color: var(--card-surface, #f8f9fa); border-color: var(--card-border, #e2e8f0); box-shadow: 0 1px 3px 0 var(--card-shadow, rgba(0, 0, 0, 0.1));">
        <h3 class="text-xl font-medium mb-3" style="color: var(--card-text, #0f172a);">Card Component Demo</h3>
        <p class="text-sm mb-4" style="color: var(--card-text-muted, #64748b);">This card demonstrates the complete card palette using CSS variables generated by the Color Router System.</p>
        
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="px-4 py-2 text-sm font-medium rounded transition-colors" style="background-color: var(--card-primary, #0066cc); color: var(--card-primary-text, #ffffff);">Primary Action</button>
          <button class="px-4 py-2 text-sm font-medium rounded transition-colors" style="background-color: var(--card-secondary, #94a3b8); color: var(--card-primary-text, #ffffff);">Secondary</button>
          <button class="px-4 py-2 text-sm font-medium rounded transition-colors" style="background-color: var(--card-accent, #3b82f6); color: var(--card-primary-text, #ffffff);">Accent</button>
        </div>
        
        <div class="p-3 rounded-lg mb-3" style="background-color: var(--card-hover-bg, #f1f5f9);">
          <p class="text-sm font-medium mb-1" style="color: var(--card-text, #0f172a);">Hover State Preview</p>
          <p class="text-xs" style="color: var(--card-text-muted, #64748b);">This shows the hover background color for interactive elements.</p>
        </div>
        
        <div class="text-xs space-y-1" style="color: var(--card-text-muted, #64748b);">
          <p><strong>Colors used:</strong></p>
          <p> Background: <code>var(--card-surface)</code></p>
          <p> Border: <code>var(--card-border)</code></p>
          <p> Text: <code>var(--card-text)</code></p>
          <p> Muted Text: <code>var(--card-text-muted)</code></p>
          <p> Shadow: <code>var(--card-shadow)</code></p>
          <p> Hover: <code>var(--card-hover-bg)</code></p>
        </div>
      </div>
    `}catch(t){e.innerHTML=`<p class="text-red-500 text-sm">Error rendering demo: ${t.message}</p>`}}var $0;($0=document.getElementById("create-palette"))==null||$0.addEventListener("click",()=>{const e=document.getElementById("palette-name");if(e!=null&&e.value)try{f.createPalette(e.value),e.value="",rt(),Fe(),qe()}catch(t){E(`<span class="text-red-500">ERROR:</span> ${t.message}`)}});var k0;(k0=document.getElementById("define-color"))==null||k0.addEventListener("click",()=>{const e=document.getElementById("color-key"),t=document.getElementById("color-value");if(!(!(e!=null&&e.value)||!(t!=null&&t.value)))try{let n=t.value.trim();const r=n.match(/ref\(['"](.*?)['"]\)/),i=n.match(/bestContrastWith\(['"](.*?)['"](?:,\s*['"](.*?)['"]\))?\)/),a=n.match(/colorMix\(['"](.*?)['"],\s*['"](.*?)['"](?:,\s*['"](.*?)['"])?(?:,\s*['"](.*?)['"]\))?\)/),o=n.match(/relativeTo\(['"](.*?)['"],\s*['"](.*?)['"]\)/),s=n.match(/minContrastWith\(['"](.*?)['"](?:,\s*([\d.]+))?\)/),l=n.match(/lighten\(['"](.*?)['"],\s*([\d.]+)\)/),u=n.match(/darken\(['"](.*?)['"],\s*([\d.]+)\)/),d=n.match(/func\(['"](.*?)['"](?:,\s*(.*))?\)/);if(r)n=f.ref(r[1]);else if(i){const c=[i[1]];i[2]&&c.push(i[2]),n=f.func("bestContrastWith",...c)}else if(a){const c=a[1],g=a[2],b=a[3]||"50%",M=a[4]||"lab";n=f.func("colorMix",c,g,b,M)}else if(o)n=f.func("relativeTo",o[1],o[2]);else if(s){const c=s[2]?parseFloat(s[2]):1.5;n=f.func("minContrastWith",s[1],c)}else if(l)n=f.func("lighten",l[1],parseFloat(l[2]));else if(u)n=f.func("darken",u[1],parseFloat(u[2]));else if(d){const c=d[1],g=d[2]?JSON.parse(`[${d[2].replace(/'/g,'"')}]`):[];n=f.func(c,...g)}f.has(e.value)?f.set(e.value,n):f.define(e.value,n),f.mode==="auto"&&(rt(),Fe(),qe())}catch(n){E(`<span class="text-red-500">ERROR:</span> ${n.message}`)}});var _0;(_0=document.getElementById("clear-form"))==null||_0.addEventListener("click",()=>{const e=document.getElementById("color-key"),t=document.getElementById("color-value");e&&(e.value=""),t&&(t.value=""),E("Form cleared")});var C0;(C0=document.getElementById("register-fn-btn"))==null||C0.addEventListener("click",()=>{const e=document.getElementById("fn-name"),t=document.getElementById("fn-body");if(!(!(e!=null&&e.value)||!(t!=null&&t.value)))try{const n=new Function("culori",`return ${t.value}`)(No);f.registerFunction(e.value,n)}catch(n){E(`<span class="text-red-500">ERROR creating function:</span> ${n.message}`)}});document.querySelectorAll('input[name="update-mode"]').forEach(e=>{e.addEventListener("change",t=>{const n=t.target;f.mode=n.id==="mode-auto"?"auto":"batch";const r=document.getElementById("flush-btn");r&&(r.disabled=f.mode==="auto"),f.mode==="auto"&&f.batchQueueSize>0&&(f.flush(),rt(),Fe(),qe()),E(`Mode switched to '${f.mode}'.`)})});var S0;(S0=document.getElementById("flush-btn"))==null||S0.addEventListener("click",()=>{f.flush(),rt(),Fe(),qe()});document.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("click",t=>{document.querySelectorAll(".tab-button").forEach(n=>n.classList.remove("active")),t.target.classList.add("active"),Fe(),qe()})});document.addEventListener("click",e=>{const n=e.target.closest(".edit-color-btn");if(n){const r=n.dataset.key;r&&qo(r)}});function qo(e){var o;const t=f.getDefinitionForKey(e),n=f.valueToString(t),r=document.getElementById("color-key"),i=document.getElementById("color-value");r&&(r.value=e),i&&(i.value=n);const a=(o=r==null?void 0:r.closest("div"))==null?void 0:o.closest("div");a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),a.style.border="2px solid #4f46e5",a.style.borderRadius="8px",a.style.padding="1rem",setTimeout(()=>{a.style.border="",a.style.borderRadius="",a.style.padding=""},3e3)),E(`Editing color '${e}' - current value: ${n}`)}function Ao(){E("Initializing ColorRouter demo..."),f.createPalette("base"),f.define("base.white","#ffffff"),f.define("base.black","#0c0c0c"),f.define("base.blue","#0066cc"),f.define("base.orange","#ff6600"),f.define("base.gray-100","#f8f9fa"),f.define("base.gray-800","#343a40"),f.createPalette("scale"),f.define("scale.0","#ffffff"),f.define("scale.100","#f8fafc"),f.define("scale.200","#e2e8f0"),f.define("scale.300","#cbd5e1"),f.define("scale.400","#94a3b8"),f.define("scale.500","#64748b"),f.define("scale.600","#475569"),f.define("scale.700","#334155"),f.define("scale.800","#1e293b"),f.define("scale.900","#0f172a"),f.createPalette("light",{extends:"base",overrides:{background:f.ref("base.gray-100"),surface:f.ref("base.white"),primary:f.ref("base.blue"),text:f.ref("base.black")}}),f.define("light.primary-light",f.func("lighten","light.primary",.1)),f.define("light.on-primary",f.func("bestContrastWith","light.primary")),f.define("light.on-surface",f.func("bestContrastWith","light.surface")),f.define("light.mixed-accent",f.func("colorMix","light.primary","base.orange","70%","lab")),f.define("light.best-from-scale",f.func("bestContrastWith","light.primary","scale")),f.define("light.best-from-base",f.func("bestContrastWith","light.surface","base")),f.createPalette("dark",{extends:"light",overrides:{background:f.ref("base.black"),surface:f.ref("base.gray-800"),text:f.ref("base.white")}}),f.createPalette("dark-brand",{extends:"dark",overrides:{primary:f.ref("base.orange")}}),f.createPalette("card"),f.define("card.background",f.ref("scale.0")),f.define("card.surface",f.ref("scale.100")),f.define("card.border",f.ref("scale.200")),f.define("card.text",f.ref("scale.900")),f.define("card.text-muted",f.ref("scale.500")),f.define("card.shadow",f.func("colorMix","scale.900","scale.0","10%","lab")),f.define("card.hover-bg",f.func("colorMix","card.background","base.blue","5%","lab")),f.define("card.primary",f.ref("base.blue")),f.define("card.primary-text",f.func("bestContrastWith","card.primary","scale")),f.define("card.secondary",f.func("colorMix","card.primary","scale.300","30%","lab")),f.define("card.accent",f.func("lighten","card.primary",.15)),f.define("card.dynamic-text",f.func("bestContrastWith","card.surface","scale")),f.createPalette("demo"),f.define("demo.base-color","#3b82f6"),f.define("demo.mixed-color",f.func("colorMix","demo.base-color","#ef4444","60%","oklch")),f.define("demo.light-variant",f.func("lighten","demo.base-color",.2)),f.define("demo.dark-variant",f.func("darken","demo.base-color",.3)),f.define("demo.complex-mix",f.func("colorMix","demo.light-variant","base.orange","40%","lab")),f.flush(),E("Initial palettes created with inheritance hierarchy."),E("NEW: Enhanced bestContrastWith function can now search entire palettes!"),E("NEW: Separate renderer system supports format-specific function rendering!"),E("CSS format now uses color-mix() for colorMix, lighten, darken functions"),E("SCSS format uses mix(), lighten(), darken() SCSS functions"),E("Try: func('bestContrastWith', 'card.primary', 'scale')"),E("Try: func('colorMix', 'light.primary', 'base.orange', '60%', 'lab')"),E("Try: func('minContrastWith', 'light.background', 2.0)"),E("All built-in functions: bestContrastWith, colorMix, relativeTo, minContrastWith, lighten, darken"),E("Click the edit icon next to any color to modify it!"),rt(),Fe(),qe()}f.on("change",e=>{e.detail.forEach(n=>{const r=n.oldValue||"undefined";E(`CHANGE: '${n.key}' from ${r} to <span class="font-bold" style="color:${n.newValue}; text-shadow: 0 0 5px rgba(0,0,0,0.5);">${n.newValue}</span>`)})});Ao();
